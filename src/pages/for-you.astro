---
import BaseLayout from '../layouts/BaseLayout.astro';
import LegacyButton from '../components/Buttons/LegacyButton.astro';
import { PLACEHOLDER_IMAGES } from '../constants/placeholderImages';

// TODO: In production, fetch resources from your database/API
const categories = [
  'All Resources',
  'Templates',
  'Guides',
  'Checklists',
  'Worksheets',
  'Ebooks'
];
---

<BaseLayout
  title="Free Resources | Your Brand Name"
  description="Download free templates, guides, checklists, and resources to help you succeed"
>
  <!-- For You Hero -->
  <section class="for-you-hero section-sm">
    <div class="container container-7xl text-center">
      <h1 class="page-title">Free Resources For You</h1>
      <p class="page-description">
        Valuable templates, guides, and tools to help you succeed. All resources are completely
        free to download and use. No credit card required.
      </p>
    </div>
  </section>

  <!-- Filters & Resources -->
  <section class="resources-content section">
    <div class="container container-7xl">
      <!-- Category Filter Tabs -->
      <div class="category-tabs">
        {categories.map((category, index) => (
          <LegacyButton
            variant="ghost"
            size="md"
            className={`category-tab ${index === 0 ? 'active' : ''}`}
            id={`category-${category.toLowerCase().replace(' ', '-')}`}
          >
            {category}
          </LegacyButton>
        ))}
      </div>

      <!-- Resources Grid -->
      <div class="resources-grid" id="resources-grid">
        <!-- Resource Card 1 -->
        <div class="resource-card card" data-category="templates">
          <div class="resource-image">
            <img src={PLACEHOLDER_IMAGES.product1} alt="Resource 1" />
            <div class="resource-type-badge">Template</div>
          </div>
          <div class="resource-content">
            <h3 class="resource-title">
              <a href="/for-you/starter-template">Getting Started Template</a>
            </h3>
            <p class="resource-description">
              A comprehensive template to help you kickstart your project with all the essential
              components and best practices.
            </p>
            <div class="resource-meta">
              <div class="resource-stats">
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  1.2k downloads
                </span>
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  PDF, 2.4 MB
                </span>
              </div>
            </div>
            <a href="/for-you/starter-template" class="btn btn-outline btn-sm btn-block">
              Download Free
            </a>
          </div>
        </div>

        <!-- Resource Card 2 -->
        <div class="resource-card card" data-category="guides">
          <div class="resource-image">
            <img src={PLACEHOLDER_IMAGES.product2} alt="Resource 2" />
            <div class="resource-type-badge badge-guide">Guide</div>
          </div>
          <div class="resource-content">
            <h3 class="resource-title">
              <a href="/for-you/ultimate-guide">The Ultimate Guide</a>
            </h3>
            <p class="resource-description">
              Step-by-step guide covering everything you need to know from basics to advanced
              strategies and techniques.
            </p>
            <div class="resource-meta">
              <div class="resource-stats">
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  3.5k downloads
                </span>
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  PDF, 5.1 MB
                </span>
              </div>
            </div>
            <a href="/for-you/ultimate-guide" class="btn btn-outline btn-sm btn-block">
              Download Free
            </a>
          </div>
        </div>

        <!-- Resource Card 3 -->
        <div class="resource-card card" data-category="checklists">
          <div class="resource-image">
            <img src={PLACEHOLDER_IMAGES.workspace1} alt="Resource 3" />
            <div class="resource-type-badge badge-checklist">Checklist</div>
          </div>
          <div class="resource-content">
            <h3 class="resource-title">
              <a href="/for-you/complete-checklist">Complete Checklist</a>
            </h3>
            <p class="resource-description">
              Never miss a step with this comprehensive checklist covering all essential tasks
              and best practices.
            </p>
            <div class="resource-meta">
              <div class="resource-stats">
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  2.8k downloads
                </span>
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  PDF, 850 KB
                </span>
              </div>
            </div>
            <a href="/for-you/complete-checklist" class="btn btn-outline btn-sm btn-block">
              Download Free
            </a>
          </div>
        </div>

        <!-- Resource Card 4 -->
        <div class="resource-card card" data-category="worksheets">
          <div class="resource-image">
            <img src={PLACEHOLDER_IMAGES.workspace2} alt="Resource 4" />
            <div class="resource-type-badge badge-worksheet">Worksheet</div>
          </div>
          <div class="resource-content">
            <h3 class="resource-title">
              <a href="/for-you/planning-worksheet">Planning Worksheet</a>
            </h3>
            <p class="resource-description">
              Organize your thoughts and create actionable plans with this easy-to-use worksheet
              designed for maximum productivity.
            </p>
            <div class="resource-meta">
              <div class="resource-stats">
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  1.9k downloads
                </span>
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  PDF, 1.2 MB
                </span>
              </div>
            </div>
            <a href="/for-you/planning-worksheet" class="btn btn-outline btn-sm btn-block">
              Download Free
            </a>
          </div>
        </div>

        <!-- Resource Card 5 -->
        <div class="resource-card card" data-category="ebooks">
          <div class="resource-image">
            <img src={PLACEHOLDER_IMAGES.tech4} alt="Resource 5" />
            <div class="resource-type-badge badge-ebook">Ebook</div>
          </div>
          <div class="resource-content">
            <h3 class="resource-title">
              <a href="/for-you/essential-ebook">Essential Strategies Ebook</a>
            </h3>
            <p class="resource-description">
              In-depth ebook packed with proven strategies, actionable tips, and real-world
              examples to help you succeed.
            </p>
            <div class="resource-meta">
              <div class="resource-stats">
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  4.2k downloads
                </span>
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  PDF, 8.5 MB
                </span>
              </div>
            </div>
            <a href="/for-you/essential-ebook" class="btn btn-outline btn-sm btn-block">
              Download Free
            </a>
          </div>
        </div>

        <!-- Resource Card 6 -->
        <div class="resource-card card" data-category="templates">
          <div class="resource-image">
            <img src={PLACEHOLDER_IMAGES.fashion1} alt="Resource 6" />
            <div class="resource-type-badge">Template</div>
          </div>
          <div class="resource-content">
            <h3 class="resource-title">
              <a href="/for-you/social-media-template">Social Media Template Pack</a>
            </h3>
            <p class="resource-description">
              Professional social media templates for all major platforms. Save time and maintain
              consistent branding across channels.
            </p>
            <div class="resource-meta">
              <div class="resource-stats">
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  5.1k downloads
                </span>
                <span class="stat-item">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  ZIP, 15 MB
                </span>
              </div>
            </div>
            <a href="/for-you/social-media-template" class="btn btn-outline btn-sm btn-block">
              Download Free
            </a>
          </div>
        </div>

        <!-- Add more resource cards as needed -->
      </div>
    </div>
  </section>

  <!-- Newsletter Signup CTA -->
  <section class="newsletter-section section bg-alt">
    <div class="container container-6xl">
      <div class="newsletter-card card">
        <div class="newsletter-content">
          <div class="newsletter-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
              <polyline points="22,6 12,13 2,6"/>
            </svg>
          </div>
          <div class="newsletter-text">
            <h2 class="newsletter-title">Get New Resources First</h2>
            <p class="newsletter-description">
              Subscribe to our newsletter and be the first to know when we release new free
              resources, templates, and guides.
            </p>
          </div>
        </div>
        <form class="newsletter-form" id="newsletter-form">
          <input
            type="email"
            placeholder="Enter your email"
            class="newsletter-input"
            required
          />
          <LegacyButton type="submit" variant="primary" size="md">Subscribe</LegacyButton>
        </form>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="benefits-section section">
    <div class="container container-7xl">
      <div class="section-header text-center">
        <h2 class="section-title">Why Download Our Resources?</h2>
        <p class="section-description">
          High-quality, professional resources to help you succeed
        </p>
      </div>

      <div class="benefits-grid">
        <div class="benefit-item">
          <div class="benefit-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
          </div>
          <h3 class="benefit-title">100% Free</h3>
          <p class="benefit-description">
            All resources are completely free. No hidden fees, no credit card required.
          </p>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="7 10 12 15 17 10"/>
              <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
          </div>
          <h3 class="benefit-title">Instant Download</h3>
          <p class="benefit-description">
            Get immediate access to all resources. Download and start using right away.
          </p>
        </div>

        <div class="benefit-icon">
          <div class="benefit-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </svg>
          </div>
          <h3 class="benefit-title">High Quality</h3>
          <p class="benefit-description">
            Professionally designed and tested resources that deliver real results.
          </p>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
          </div>
          <h3 class="benefit-title">Used by Thousands</h3>
          <p class="benefit-description">
            Join thousands of satisfied users who have benefited from our resources.
          </p>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10"/>
              <polyline points="1 20 1 14 7 14"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
          </div>
          <h3 class="benefit-title">Regular Updates</h3>
          <p class="benefit-description">
            We continuously add new resources and update existing ones based on feedback.
          </p>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
              <line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
          </div>
          <h3 class="benefit-title">Easy to Customize</h3>
          <p class="benefit-description">
            All resources are designed to be easily customized to fit your specific needs.
          </p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Category filter tabs
  const categoryTabs = document.querySelectorAll('.category-tab');
  const resourceCards = document.querySelectorAll('.resource-card');

  categoryTabs.forEach(tab => {
    tab.addEventListener('click', (e) => {
      const button = e.currentTarget as HTMLElement;
      const selectedCategory = button.dataset.category;

      // Update active tab
      categoryTabs.forEach(t => t.classList.remove('active'));
      button.classList.add('active');

      // Filter resources
      resourceCards.forEach(card => {
        const cardElement = card as HTMLElement;
        const cardCategory = cardElement.dataset.category;

        if (selectedCategory === 'all-resources' || cardCategory === selectedCategory) {
          cardElement.style.display = 'block';
        } else {
          cardElement.style.display = 'none';
        }
      });
    });
  });

  // Newsletter form
  const newsletterForm = document.getElementById('newsletter-form');
  if (newsletterForm) {
    newsletterForm.addEventListener('submit', (e) => {
      e.preventDefault();
      // TODO: Implement newsletter signup
      if (window.showToast) {
        window.showToast({
          type: 'success',
          message: 'Thanks for subscribing! Check your email for confirmation.',
          duration: 5000
        });
      }
      newsletterForm.reset();
    });
  }
</script>

<style>
  .page-title {
    font-size: var(--text-5xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-md);
    color: var(--brand-text);
  }

  .page-description {
    font-size: var(--text-lg);
    color: var(--brand-text-muted);
    max-width: 700px;
    margin: 0 auto;
    line-height: var(--leading-relaxed);
  }

  /* Category Tabs */
  .category-tabs {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-3xl);
    overflow-x: auto;
    padding-bottom: var(--space-sm);
  }

  .category-tab {
    padding: var(--space-md) var(--space-xl);
    border: 2px solid var(--brand-neutral-300);
    background: white;
    border-radius: var(--border-radius-full);
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--brand-text);
    cursor: pointer;
    transition: all var(--transition-fast);
    white-space: nowrap;
  }

  .category-tab:hover {
    border-color: var(--brand-primary);
    color: var(--brand-primary);
  }

  .category-tab.active {
    background: var(--brand-primary);
    border-color: var(--brand-primary);
    color: white;
  }

  /* Resources Grid */
  .resources-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-xl);
  }

  .resource-card {
    overflow: hidden;
    transition: all var(--transition-base);
    display: flex;
    flex-direction: column;
  }

  .resource-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
  }

  .resource-image {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    background: var(--brand-neutral-100);
  }

  .resource-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-base);
  }

  .resource-card:hover .resource-image img {
    transform: scale(1.05);
  }

  .resource-type-badge {
    position: absolute;
    top: var(--space-md);
    left: var(--space-md);
    padding: var(--space-xs) var(--space-md);
    background: var(--brand-primary);
    color: white;
    font-size: var(--text-xs);
    font-weight: var(--font-bold);
    border-radius: var(--border-radius-full);
    text-transform: uppercase;
  }

  .badge-guide {
    background: var(--brand-secondary);
  }

  .badge-checklist {
    background: var(--brand-success);
  }

  .badge-worksheet {
    background: var(--brand-warning);
  }

  .badge-ebook {
    background: var(--brand-danger);
  }

  .resource-content {
    padding: var(--space-lg);
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  .resource-title {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-sm);
  }

  .resource-title a {
    color: var(--brand-text);
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .resource-title a:hover {
    color: var(--brand-primary);
  }

  .resource-description {
    font-size: var(--text-sm);
    color: var(--brand-text-muted);
    line-height: var(--leading-relaxed);
    margin-bottom: var(--space-md);
    flex: 1;
  }

  .resource-meta {
    margin-bottom: var(--space-lg);
    padding-top: var(--space-md);
    border-top: 1px solid var(--brand-neutral-200);
  }

  .resource-stats {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--text-xs);
    color: var(--brand-text-muted);
  }

  .stat-item svg {
    color: var(--brand-primary);
    flex-shrink: 0;
  }

  .btn-block {
    width: 100%;
  }

  /* Newsletter Section - .bg-alt uses global class from utilities.css */

  .newsletter-card {
    padding: var(--space-3xl);
  }

  .newsletter-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: var(--space-2xl);
  }

  .newsletter-icon {
    color: var(--brand-primary);
    margin-bottom: var(--space-lg);
  }

  .newsletter-text {
    max-width: 600px;
  }

  .newsletter-title {
    font-size: var(--text-3xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-md);
    color: var(--brand-text);
  }

  .newsletter-description {
    font-size: var(--text-lg);
    color: var(--brand-text-muted);
    line-height: var(--leading-relaxed);
  }

  .newsletter-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    max-width: 500px;
    margin: 0 auto;
    width: 100%;
  }

  .newsletter-input {
    padding: var(--space-md);
    border: 1px solid var(--brand-neutral-300);
    border-radius: var(--border-radius-md);
    font-size: var(--text-base);
  }

  /* Benefits Section */
  .section-header {
    margin-bottom: var(--space-3xl);
  }

  .section-title {
    font-size: var(--text-4xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-md);
    color: var(--brand-text);
  }

  .section-description {
    font-size: var(--text-lg);
    color: var(--brand-text-muted);
    max-width: 700px;
    margin: 0 auto;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
  }

  .benefit-item {
    text-align: center;
  }

  .benefit-icon {
    color: var(--brand-primary);
    margin-bottom: var(--space-md);
    display: flex;
    justify-content: center;
  }

  .benefit-title {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-sm);
    color: var(--brand-text);
  }

  .benefit-description {
    font-size: var(--text-base);
    color: var(--brand-text-muted);
    line-height: var(--leading-relaxed);
  }

  /* Responsive: Tablet */
  @media (min-width: 768px) {
    .resources-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .resource-stats {
      flex-direction: row;
      gap: var(--space-md);
    }

    .newsletter-content {
      flex-direction: row;
      text-align: left;
    }

    .newsletter-icon {
      margin-bottom: 0;
      margin-right: var(--space-xl);
    }

    .newsletter-form {
      flex-direction: row;
    }

    .newsletter-input {
      flex: 1;
    }

    .benefits-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Responsive: Desktop */
  @media (min-width: 1024px) {
    .page-title {
      font-size: var(--text-6xl);
    }

    .resources-grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .section-title {
      font-size: var(--text-5xl);
    }

    .benefits-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
