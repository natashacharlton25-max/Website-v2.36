---
/**
 * LinkedAssetsGrid - Displays related resources/assets in a grid
 * Reusable across presentations and insights
 */

interface LinkedAsset {
  title: string;
  description?: string;
  url: string;
  type?: string;
}

interface Props {
  assets: LinkedAsset[];
  title?: string;
  class?: string;
}

const {
  assets,
  title = 'Related Resources',
  class: className
} = Astro.props;

if (!assets || assets.length === 0) return null;
---

<div class:list={['linked-assets', className]}>
  <h3 class="linked-assets__title">{title}</h3>
  <div class="linked-assets__grid">
    {assets.map(asset => (
      <a href={asset.url} class="linked-asset-card">
        <span class="linked-asset-card__type">{asset.type || 'Resource'}</span>
        <h4 class="linked-asset-card__title">{asset.title}</h4>
        {asset.description && (
          <p class="linked-asset-card__description">{asset.description}</p>
        )}
      </a>
    ))}
  </div>
</div>

<style>
  /* Layout */
  .linked-assets {
    width: 100%;
    max-width: 800px;
    text-align: center;
  }

  .linked-assets__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
  }

  /* Elements */
  .linked-assets__title {
    margin-bottom: var(--space-xl);
    /* Typography inherited from h3 */
  }

  /* Card - Layout */
  .linked-asset-card {
    display: block;
    text-align: left;
    text-decoration: none;
  }

  /* Card - Box model */
  .linked-asset-card {
    padding: var(--space-xl);
    border-radius: var(--radius-lg);
  }

  /* Card - Visual */
  .linked-asset-card {
    background: var(--color-Neutral-50);
    box-shadow: var(--shadow);
    transition: transform var(--transition-base), box-shadow var(--transition-base);
  }

  /* Card elements */
  .linked-asset-card__type {
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-Primary-600);
  }

  .linked-asset-card__title {
    margin: var(--space-sm) 0;
    /* Typography inherited from h4 */
  }

  .linked-asset-card__description {
    margin: 0;
    /* Typography inherited from p */
  }

  /* States */
  .linked-asset-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
</style>
