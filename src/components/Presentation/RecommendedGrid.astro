---
/**
 * RecommendedGrid - Displays recommended content cards in a grid
 * Reusable for presentations, insights, and other content types
 */
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface RecommendedItem {
  slug: string;
  title: string;
  category: string;
  image: ImageMetadata;
  basePath: string; // e.g., '/presentations', '/insights'
}

interface Props {
  items: RecommendedItem[];
  title?: string;
  class?: string;
}

const {
  items,
  title = 'Continue Reading',
  class: className
} = Astro.props;

if (!items || items.length === 0) return null;
---

<div class:list={['recommended-grid', className]}>
  <h3 class="recommended-grid__title">{title}</h3>
  <div class="recommended-grid__items">
    {items.map(item => (
      <a href={`${item.basePath}/${item.slug}`} class="recommended-card">
        <div class="recommended-card__image">
          <Image src={item.image} alt={item.title} width={400} height={225} />
        </div>
        <div class="recommended-card__content">
          <span class="recommended-card__category">{item.category}</span>
          <h4 class="recommended-card__title">{item.title}</h4>
        </div>
      </a>
    ))}
  </div>
</div>

<style>
  /* Layout */
  .recommended-grid {
    width: 100%;
    max-width: 1000px;
    text-align: center;
  }

  .recommended-grid__items {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
  }

  /* Elements */
  .recommended-grid__title {
    margin-bottom: var(--space-xl);
    /* Typography inherited from h3 */
  }

  /* Card - Layout */
  .recommended-card {
    display: block;
    overflow: hidden;
    text-decoration: none;
  }

  /* Card - Box model */
  .recommended-card {
    border-radius: var(--radius-lg);
  }

  /* Card - Visual */
  .recommended-card {
    background: var(--color-Neutral-50);
    box-shadow: var(--shadow);
    transition: transform var(--transition-base), box-shadow var(--transition-base);
  }

  /* Card elements */
  .recommended-card__image {
    aspect-ratio: 16/9;
    overflow: hidden;
  }

  .recommended-card__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-base);
  }

  .recommended-card__content {
    padding: var(--space-lg);
    text-align: left;
  }

  .recommended-card__category {
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-Primary-600);
  }

  .recommended-card__title {
    margin-top: var(--space-xs);
    /* Typography inherited from h4 */
  }

  /* States */
  .recommended-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  .recommended-card:hover .recommended-card__image img {
    transform: scale(1.05);
  }
</style>
