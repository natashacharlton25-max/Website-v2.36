---
interface Props {
  type?: 'info' | 'warning' | 'success' | 'error';
  icon?: 'info' | 'warning' | 'check' | 'error' | 'custom';
  customIcon?: string;
}

const {
  type = 'info',
  icon = 'info',
  customIcon
} = Astro.props;

// SVG icon paths
const icons = {
  info: '<circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>',
  warning: '<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>',
  check: '<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>',
  error: '<circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>'
};

const iconPath = customIcon || icons[icon];
---

<div class={`info-notice info-notice--${type}`}>
  <svg
    width="20"
    height="20"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    aria-hidden="true"
  >
    <Fragment set:html={iconPath} />
  </svg>
  <span class="info-notice__content">
    <slot />
  </span>
</div>

<style>
  .info-notice {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-md);
    border: 1px solid;
    border-radius: var(--border-radius-md);
    margin-top: var(--space-lg);
    font-size: var(--text-sm);
  }

  .info-notice svg {
    flex-shrink: 0;
    margin-top: 2px;
  }

  .info-notice__content {
    flex: 1;
  }

  /* Info variant (default) */
  .info-notice--info {
    background-color: var(--brand-neutral-100);
    border-color: var(--brand-neutral-200);
    color: var(--brand-text-muted);
  }

  .info-notice--info svg {
    color: var(--brand-primary);
  }

  /* Success variant */
  .info-notice--success {
    background-color: var(--brand-success-light);
    border-color: var(--brand-success);
    color: var(--brand-success-dark);
  }

  .info-notice--success svg {
    color: var(--brand-success);
  }

  /* Warning variant */
  .info-notice--warning {
    background-color: var(--brand-warning-light);
    border-color: var(--brand-warning);
    color: var(--brand-warning-dark);
  }

  .info-notice--warning svg {
    color: var(--brand-warning);
  }

  /* Error variant */
  .info-notice--error {
    background-color: var(--brand-danger-light);
    border-color: var(--brand-danger);
    color: var(--brand-danger-dark);
  }

  .info-notice--error svg {
    color: var(--brand-danger);
  }
</style>
