---
import Badge from '../Badge/Badge.astro';

interface TrustBadge {
  icon: string;
  text: string;
}

interface Props {
  badges?: TrustBadge[];
  useIconBadges?: boolean; // If true, renders icons as Badge components
}

const defaultBadges: TrustBadge[] = [
  {
    icon: 'shield',
    text: 'Secure & Private'
  },
  {
    icon: 'mail',
    text: 'Instant Delivery'
  },
  {
    icon: 'check',
    text: 'No Spam Promise'
  }
];

const { badges = defaultBadges, useIconBadges = false } = Astro.props;

// SVG icon paths
const icons = {
  shield: '<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>',
  mail: '<path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>',
  check: '<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>',
  lock: '<rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>',
  clock: '<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>',
  heart: '<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>'
};
---

<div class="trust-badges">
  {badges.map((badge) => (
    <div class="trust-badges__item">
      {useIconBadges ? (
        <Badge type={badge.icon} label="" />
      ) : (
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          aria-hidden="true"
        >
          <Fragment set:html={icons[badge.icon as keyof typeof icons] || icons.check} />
        </svg>
      )}
      <span>{badge.text}</span>
    </div>
  ))}
</div>

<style>
  .trust-badges {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-top: var(--space-xl);
    padding-top: var(--space-xl);
    border-top: 1px solid var(--brand-neutral-200);
  }

  .trust-badges__item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--text-sm);
    color: var(--brand-text-muted);
  }

  .trust-badges__item svg {
    color: var(--brand-success);
    flex-shrink: 0;
  }
</style>
