---
import SpecCard from '../Cards/SpecCard.astro';
import type { GridLayoutProperties } from '../../lib/utils/grid-layout';

interface BaseSpecItem {
  iconName: string; // Icon name (e.g., 'file-pdf-fill' or 'spec-cards/file-pdf-fill')
  label: string;
  value: string;
  variant?: 'primary' | 'secondary' | 'accent';
}

// SpecItem can be base or with grid layout properties
type SpecItem = BaseSpecItem & Partial<GridLayoutProperties>;

interface Props {
  specs: SpecItem[];
}

const { specs } = Astro.props;
---

<div class="spec-masonry">
  {specs.map(spec => (
    <div class="spec-wrapper" style={spec.gridColumn ? `grid-column: ${spec.gridColumn};` : ''}>
      <SpecCard
        iconName={spec.iconName}
        label={spec.label}
        value={spec.value}
        variant={spec.variant}
      />
    </div>
  ))}
</div>

<style>
  .spec-masonry {
    display: grid;
    gap: var(--space-md);
    margin-top: var(--space-xl);
    grid-template-columns: repeat(5, 1fr);
    grid-auto-rows: 1fr;
    grid-auto-flow: dense;
  }

  .spec-wrapper {
    display: flex;
    height: 100%;
  }

  .spec-wrapper :global(.spec-card) {
    flex: 1;
    height: 100%;
  }

  @media (max-width: 640px) {
    .spec-masonry {
      grid-template-columns: 1fr !important;
    }
  }

  @media (min-width: 641px) and (max-width: 1024px) {
    /* JS will calculate columns based on viewport */
  }
</style>
