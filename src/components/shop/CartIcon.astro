---
/**
 * Animated Shopping Cart Icon using Lottie
 * Uses different animations for different states:
 * - Idle: static (no animation)
 * - Hover: hover-pinch animation
 * - Add to cart: morph-fill animation
 * - Initial load: in-reveal animation (optional)
 */

interface Props {
  size?: number;
  showOnReveal?: boolean;
}

const { size = 32, showOnReveal = false } = Astro.props;
---

<div class="cart-icon" id="cart-icon" data-size={size} data-reveal={showOnReveal}>
  <div class="cart-icon__lottie" id="lottie-basket"></div>
  <img
    src="/Icons/phosphor/a11y/basket-fill.svg"
    alt=""
    class="cart-icon__static"
    width="32"
    height="32"
    aria-hidden="true"
  />
  <span class="cart-icon__count">0</span>
</div>

<script>
  import '../../lib/cart/cart-icon';
</script>

<!-- CSS extracted to: src/styles/components/cart-icon.css -->
