---
import ThemedDropdown from '../Buttons/ThemedDropdown.astro';

interface Props {
  href?: string;
  text?: string;
  variant?: 'primary' | 'secondary' | 'accent1' | 'accent2' | 'accent3' | 'accent4' | 'accent5' | 'primary-rainglow' | 'secondary-rainglow' | 'accent1-rainglow' | 'accent2-rainglow' | 'accent3-rainglow' | 'accent4-rainglow' | 'accent5-rainglow' | 'primary-glass' | 'secondary-glass' | 'accent1-glass' | 'accent2-glass' | 'accent3-glass' | 'accent4-glass' | 'accent5-glass' | 'primary-neuraindrop' | 'secondary-neuraindrop' | 'accent1-neuraindrop' | 'accent2-neuraindrop' | 'accent3-neuraindrop' | 'accent4-neuraindrop' | 'accent5-neuraindrop' | 'glass' | 'neumorphic' | 'brand-emerge' | 'glass-brand-emerge' | 'demo' | 'spectrum' | 'prismatic-primary' | 'prismatic-secondary' | 'vivid-burst-primary' | 'vivid-burst-secondary' | 'deep-glow-primary' | 'deep-glow-secondary' | 'mega-rainbow' | 'light-dream' | 'vivid-glass' | 'deep-neumorphic' | 'primary-prismatic' | 'secondary-prismatic' | 'accent1-prismatic' | 'accent2-prismatic' | 'accent3-prismatic' | 'accent4-prismatic' | 'accent5-prismatic' | 'primary-vivid-burst' | 'secondary-vivid-burst' | 'accent1-vivid-burst' | 'accent2-vivid-burst' | 'accent3-vivid-burst' | 'accent4-vivid-burst' | 'accent5-vivid-burst' | 'primary-deep-glow' | 'secondary-deep-glow' | 'accent1-deep-glow' | 'accent2-deep-glow' | 'accent3-deep-glow' | 'accent4-deep-glow' | 'accent5-deep-glow' | 'primary-emerge' | 'secondary-emerge' | 'accent1-emerge' | 'accent2-emerge' | 'accent3-emerge' | 'accent4-emerge' | 'accent5-emerge' | 'primary-rainmerge' | 'secondary-rainmerge' | 'accent1-rainmerge' | 'accent2-rainmerge' | 'accent3-rainmerge' | 'accent4-rainmerge' | 'accent5-rainmerge' | 'primary-spectrum' | 'secondary-spectrum' | 'accent1-spectrum' | 'accent2-spectrum' | 'accent3-spectrum' | 'accent4-spectrum' | 'accent5-spectrum' | 'primary-deepbow' | 'secondary-deepbow' | 'accent1-deepbow' | 'accent2-deepbow' | 'accent3-deepbow' | 'accent4-deepbow' | 'accent5-deepbow' | 'primary-dream' | 'secondary-dream' | 'accent1-dream' | 'accent2-dream' | 'accent3-dream' | 'accent4-dream' | 'accent5-dream' | 'primary-vivid' | 'secondary-vivid' | 'accent1-vivid' | 'accent2-vivid' | 'accent3-vivid' | 'accent4-vivid' | 'accent5-vivid' | 'primary-deepneu' | 'secondary-deepneu' | 'accent1-deepneu' | 'accent2-deepneu' | 'accent3-deepneu' | 'accent4-deepneu' | 'accent5-deepneu' | 'primary-dropdown' | 'secondary-dropdown' | 'accent1-dropdown' | 'accent2-dropdown' | 'accent3-dropdown' | 'accent4-dropdown' | 'accent5-dropdown' | 'primary-glowonly' | 'secondary-glowonly' | 'accent1-glowonly' | 'accent2-glowonly' | 'accent3-glowonly' | 'accent4-glowonly' | 'accent5-glowonly';
  className?: string;
  disabled?: boolean;
  size?: 'sm' | 'lg';
  shape?: 'default' | 'circle' | 'square';
  animatedIcon?: string;
  dropdownItems?: Array<{label: string, href?: string}>;
}

const {
  href = "#",
  text,
  variant = 'primary',
  className = '',
  disabled = false,
  size,
  shape = 'default',
  animatedIcon,
  dropdownItems = [
    {label: 'Option 1', href: '#'},
    {label: 'Option 2', href: '#'},
    {label: 'Option 3', href: '#'}
  ]
} = Astro.props;

// Handle combined variants (e.g., 'accent1-dropdown' -> ['accent1', 'dropdown'])
const variantParts = variant.includes('-') ? variant.split('-') : [variant];
const baseColor = variantParts[0];
const effect = variantParts.slice(1).join('-') || '';

// Check if this is a dropdown variant
const isDropdown = effect === 'dropdown';

// Set default text based on variant
const defaultText = variant === 'demo'
  ? "This Is A Very Long Button Text That Tests Responsive Behavior And Text Wrapping"
  : "See What Others Are Asking";

const buttonText = text || defaultText;

// Shape and icon handling
const showIcon = (shape === 'circle' || shape === 'square') && animatedIcon;
const shapeClass = shape !== 'default' ? `btn-shape-${shape}` : '';

// Use base color for data-variant
const displayVariant = isDropdown ? baseColor : variant;
---

{isDropdown ? (
  <div class={`button-wrapper dropdown-wrapper ${className} ${size ? `btn-size-${size}` : ''} ${disabled ? 'disabled' : ''}`} data-variant={displayVariant}>
    <button class="rainbow-button" type="button" disabled={disabled}>
      {buttonText}
      <svg class="dropdown-chevron" viewBox="0 0 24 24" fill="currentColor">
        <path d="M7 10l5 5 5-5z"/>
      </svg>
    </button>
    <ThemedDropdown
      colorTheme={baseColor as any}
      dropdownItems={dropdownItems}
      borderStyle="1px solid"
      colorShade="500"
      hoverColorShade="100"
    />
  </div>
) : (
  <div class={`button-wrapper ${className} ${size ? `btn-size-${size}` : ''} ${shapeClass} ${disabled ? 'disabled' : ''}`} data-variant={displayVariant}>
    {showIcon ? (
      <a href={disabled ? undefined : href} class="rainbow-button" target="_blank" aria-disabled={disabled}>
        <div class="btn-icon" data-animation={animatedIcon}></div>
      </a>
    ) : (
      <a href={disabled ? undefined : href} class="rainbow-button" target="_blank" aria-disabled={disabled}>
        {buttonText}
      </a>
    )}
  </div>
)}


<style>
  /* Import design tokens */
  @import '../../styles/Gradient.css';
  @import '../../styles/ButtonSizes.css';

  .button-wrapper {
    position: relative;
    border-radius: var(--radius-full);
    padding: 2px;
    display: inline-block;
    isolation: isolate;
  }


  /* Outline gradient glow */
  .button-wrapper::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
    opacity: 0;
    transition: opacity 0s ease;
    animation: var(--rainbow-border-animation);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    -webkit-mask-composite: destination-out;
    z-index: -1;
  }

  /* Slower fade-in on hover */
  .button-wrapper:hover::before {
    transition: opacity 0.5s ease 0.15s;
  }

  /* Variant specific gradients */
  .button-wrapper[data-variant="primary"]::before {
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary"]::before {
    background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600), var(--color-Secondary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1"]::before {
    background: linear-gradient(135deg, var(--color-AccentOne-400), var(--color-AccentOne-600), var(--color-AccentOne-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2"]::before {
    background: linear-gradient(135deg, var(--color-AccentTwo-400), var(--color-AccentTwo-600), var(--color-AccentTwo-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3"]::before {
    background: linear-gradient(135deg, var(--color-AccentThree-400), var(--color-AccentThree-600), var(--color-AccentThree-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4"]::before {
    background: linear-gradient(135deg, var(--color-AccentFour-400), var(--color-AccentFour-600), var(--color-AccentFour-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5"]::before {
    background: linear-gradient(135deg, var(--color-AccentFive-400), var(--color-AccentFive-600), var(--color-AccentFive-500));
    background-size: 200% 200%;
  }

  /* Rainglow border variants - use rainbow gradient for border */
  .button-wrapper[data-variant="primary-rainglow"]::before {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary-rainglow"]::before {
    background: var(--rainbow-light-gradient-secondary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1-rainglow"]::before {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2-rainglow"]::before {
    background: var(--rainbow-light-gradient-secondary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3-rainglow"]::before {
    background: var(--rainbow-light-gradient-accent);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4-rainglow"]::before {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5-rainglow"]::before {
    background: var(--rainbow-light-gradient-secondary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="brand-emerge"]::before {
    background: var(--gradient-brand-emerge);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="demo"]::before {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }


  .button-wrapper:not(.disabled):hover::before {
    opacity: var(--rainbow-border-hover-opacity);
  }

  /* Soft blurred halo */
  .button-wrapper::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
    filter: blur(var(--space-sm));
    opacity: 0;
    z-index: -2;
    transition: opacity 0s ease;
    animation: var(--rainbow-border-animation);
  }

  /* Slower fade-in on hover */
  .button-wrapper:hover::after {
    transition: opacity 0.5s ease 0.15s;
  }

  /* Variant specific halo gradients */
  .button-wrapper[data-variant="primary"]::after {
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary"]::after {
    background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600), var(--color-Secondary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1"]::after {
    background: linear-gradient(135deg, var(--color-AccentOne-400), var(--color-AccentOne-600), var(--color-AccentOne-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2"]::after {
    background: linear-gradient(135deg, var(--color-AccentTwo-400), var(--color-AccentTwo-600), var(--color-AccentTwo-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3"]::after {
    background: linear-gradient(135deg, var(--color-AccentThree-400), var(--color-AccentThree-600), var(--color-AccentThree-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4"]::after {
    background: linear-gradient(135deg, var(--color-AccentFour-400), var(--color-AccentFour-600), var(--color-AccentFour-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5"]::after {
    background: linear-gradient(135deg, var(--color-AccentFive-400), var(--color-AccentFive-600), var(--color-AccentFive-500));
    background-size: 200% 200%;
  }

  /* Rainglow border variants - halo gradients */
  .button-wrapper[data-variant="primary-rainglow"]::after {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary-rainglow"]::after {
    background: var(--rainbow-light-gradient-secondary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1-rainglow"]::after {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2-rainglow"]::after {
    background: var(--rainbow-light-gradient-secondary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3-rainglow"]::after {
    background: var(--rainbow-light-gradient-accent);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4-rainglow"]::after {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5-rainglow"]::after {
    background: var(--rainbow-light-gradient-secondary);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="brand-emerge"]::after {
    background: var(--gradient-brand-emerge);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="demo"]::after {
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
  }


  .button-wrapper[data-variant="glass-brand-emerge"]::before {
    background: var(--gradient-brand-emerge);
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="glass-brand-emerge"]::after {
    background: var(--gradient-brand-emerge);
    background-size: 200% 200%;
  }

  .button-wrapper:not(.disabled):hover::after {
    opacity: var(--rainbow-halo-hover-opacity);
  }

  .rainbow-button {
    all: unset;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-body);
    font-size: var(--btn-size-default-font-size);
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    line-height: var(--line-height-normal);
    color: var(--color-Text-500);
    background-color: transparent;
    border: 0px solid rgba(100, 100, 110, 0.4);
    box-shadow: var(--shadow-md);
    border-radius: inherit;
    cursor: pointer;
    transition: background-color 0s ease, color 0s ease;
    position: relative;
    z-index: 1;
    text-decoration: none;
  }

  /* Faster fade-in on hover */
  .button-wrapper:hover .rainbow-button {
    transition: background-color 0.15s ease, color 0.15s ease;
  }

  /* Default button padding - using standardized sizing */
  .rainbow-button {
    padding: 0.625rem 1.25rem;
    min-height: 2.5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
  }

  /* Demo variant allows text wrapping for long text testing */
  .button-wrapper[data-variant="demo"] .rainbow-button {
    white-space: normal;
    text-align: center;
    word-break: break-word;
    hyphens: auto;
  }

  /* Base hover state - triggers on wrapper to sync with border/glow */
  .button-wrapper:not(.disabled):hover .rainbow-button {
    border-color: transparent;
    background-color: var(--rainbow-hover-cream);
    color: var(--color-Text-700);
  }

  /* Variant specific hover colors */
  .button-wrapper[data-variant="primary"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-Primary-100);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="secondary"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-Secondary-100);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="accent1"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-AccentOne-100);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="accent2"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-AccentTwo-100);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="accent3"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-AccentThree-100);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="accent4"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-AccentFour-100);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="accent5"]:not(.disabled):hover .rainbow-button {
    background-color: var(--color-AccentFive-100);
    color: var(--color-Text-700);
  }

  /* Rainglow border variants - colored button faces */
  .button-wrapper[data-variant="primary-rainglow"] .rainbow-button {
    background-color: var(--color-Primary-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="primary-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="secondary-rainglow"] .rainbow-button {
    background-color: var(--color-Secondary-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="secondary-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-secondary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent1-rainglow"] .rainbow-button {
    background-color: var(--color-AccentOne-600);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="accent1-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-accent1);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent2-rainglow"] .rainbow-button {
    background-color: var(--color-AccentTwo-600);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="accent2-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-accent2);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent3-rainglow"] .rainbow-button {
    background-color: var(--color-AccentThree-600);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="accent3-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-accent3);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent4-rainglow"] .rainbow-button {
    background-color: var(--color-AccentFour-600);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="accent4-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-accent4);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent5-rainglow"] .rainbow-button {
    background-color: var(--color-AccentFive-600);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3), 0 4px 8px -2px rgba(0, 0, 0, 0.2);
  }

  .button-wrapper[data-variant="accent5-rainglow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-accent5);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  /* Glass variants - use brand color borders/halos instead of default */
  .button-wrapper[data-variant="primary-glass"]::before {
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary-glass"]::before {
    background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600), var(--color-Secondary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1-glass"]::before {
    background: linear-gradient(135deg, var(--color-AccentOne-400), var(--color-AccentOne-600), var(--color-AccentOne-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2-glass"]::before {
    background: linear-gradient(135deg, var(--color-AccentTwo-400), var(--color-AccentTwo-600), var(--color-AccentTwo-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3-glass"]::before {
    background: linear-gradient(135deg, var(--color-AccentThree-400), var(--color-AccentThree-600), var(--color-AccentThree-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4-glass"]::before {
    background: linear-gradient(135deg, var(--color-AccentFour-400), var(--color-AccentFour-600), var(--color-AccentFour-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5-glass"]::before {
    background: linear-gradient(135deg, var(--color-AccentFive-400), var(--color-AccentFive-600), var(--color-AccentFive-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="primary-glass"]::after {
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary-glass"]::after {
    background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600), var(--color-Secondary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1-glass"]::after {
    background: linear-gradient(135deg, var(--color-AccentOne-400), var(--color-AccentOne-600), var(--color-AccentOne-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2-glass"]::after {
    background: linear-gradient(135deg, var(--color-AccentTwo-400), var(--color-AccentTwo-600), var(--color-AccentTwo-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3-glass"]::after {
    background: linear-gradient(135deg, var(--color-AccentThree-400), var(--color-AccentThree-600), var(--color-AccentThree-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4-glass"]::after {
    background: linear-gradient(135deg, var(--color-AccentFour-400), var(--color-AccentFour-600), var(--color-AccentFour-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5-glass"]::after {
    background: linear-gradient(135deg, var(--color-AccentFive-400), var(--color-AccentFive-600), var(--color-AccentFive-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="primary-glass"] .rainbow-button,
  .button-wrapper[data-variant="secondary-glass"] .rainbow-button,
  .button-wrapper[data-variant="accent1-glass"] .rainbow-button,
  .button-wrapper[data-variant="accent2-glass"] .rainbow-button,
  .button-wrapper[data-variant="accent3-glass"] .rainbow-button,
  .button-wrapper[data-variant="accent4-glass"] .rainbow-button,
  .button-wrapper[data-variant="accent5-glass"] .rainbow-button {
    background: color-mix(in srgb, var(--color-Background-50) 60%, transparent);
    backdrop-filter: blur(var(--space-md));
    -webkit-backdrop-filter: blur(var(--space-md));
    border: 1px solid color-mix(in srgb, white 30%, transparent);
  }

  /* Glass variants with brand color tint on hover */
  .button-wrapper[data-variant="primary-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-Primary-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-Primary-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  .button-wrapper[data-variant="secondary-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-Secondary-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-Secondary-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  .button-wrapper[data-variant="accent1-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentOne-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-AccentOne-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  .button-wrapper[data-variant="accent2-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentTwo-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-AccentTwo-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  .button-wrapper[data-variant="accent3-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentThree-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-AccentThree-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  .button-wrapper[data-variant="accent4-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentFour-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-AccentFour-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  .button-wrapper[data-variant="accent5-glass"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentFive-100) 70%, transparent);
    border-color: color-mix(in srgb, var(--color-AccentFive-300) 50%, transparent);
    box-shadow: var(--shadow-glass);
  }

  /* Neuraindrop variants - neumorphic with light brand colors, rainbow glow on hover */
  .button-wrapper[data-variant="primary-neuraindrop"],
  .button-wrapper[data-variant="secondary-neuraindrop"],
  .button-wrapper[data-variant="accent1-neuraindrop"],
  .button-wrapper[data-variant="accent2-neuraindrop"],
  .button-wrapper[data-variant="accent3-neuraindrop"],
  .button-wrapper[data-variant="accent4-neuraindrop"],
  .button-wrapper[data-variant="accent5-neuraindrop"] {
    padding: 2px;
  }

  /* Disable border for neuraindrop variants */
  .button-wrapper[data-variant="primary-neuraindrop"]::before,
  .button-wrapper[data-variant="secondary-neuraindrop"]::before,
  .button-wrapper[data-variant="accent1-neuraindrop"]::before,
  .button-wrapper[data-variant="accent2-neuraindrop"]::before,
  .button-wrapper[data-variant="accent3-neuraindrop"]::before,
  .button-wrapper[data-variant="accent4-neuraindrop"]::before,
  .button-wrapper[data-variant="accent5-neuraindrop"]::before {
    display: none;
  }

  /* Neuraindrop static state - light colored neumorphic buttons */
  .button-wrapper[data-variant="primary-neuraindrop"] .rainbow-button {
    background: var(--color-Primary-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="secondary-neuraindrop"] .rainbow-button {
    background: var(--color-Secondary-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="accent1-neuraindrop"] .rainbow-button {
    background: var(--color-AccentOne-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="accent2-neuraindrop"] .rainbow-button {
    background: var(--color-AccentTwo-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="accent3-neuraindrop"] .rainbow-button {
    background: var(--color-AccentThree-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="accent4-neuraindrop"] .rainbow-button {
    background: var(--color-AccentFour-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="accent5-neuraindrop"] .rainbow-button {
    background: var(--color-AccentFive-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  /* Neuraindrop hover state - inset neumorphic shadow */
  .button-wrapper[data-variant="primary-neuraindrop"]:hover .rainbow-button,
  .button-wrapper[data-variant="secondary-neuraindrop"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent1-neuraindrop"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent2-neuraindrop"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent3-neuraindrop"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent4-neuraindrop"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent5-neuraindrop"]:hover .rainbow-button {
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }

  /* Neuraindrop rainbow halo on hover */
  .button-wrapper[data-variant="primary-neuraindrop"]::after,
  .button-wrapper[data-variant="secondary-neuraindrop"]::after,
  .button-wrapper[data-variant="accent1-neuraindrop"]::after,
  .button-wrapper[data-variant="accent2-neuraindrop"]::after,
  .button-wrapper[data-variant="accent3-neuraindrop"]::after,
  .button-wrapper[data-variant="accent4-neuraindrop"]::after,
  .button-wrapper[data-variant="accent5-neuraindrop"]::after {
    opacity: 0;
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }

  .button-wrapper[data-variant="primary-neuraindrop"]:hover::after,
  .button-wrapper[data-variant="secondary-neuraindrop"]:hover::after,
  .button-wrapper[data-variant="accent1-neuraindrop"]:hover::after,
  .button-wrapper[data-variant="accent2-neuraindrop"]:hover::after,
  .button-wrapper[data-variant="accent3-neuraindrop"]:hover::after,
  .button-wrapper[data-variant="accent4-neuraindrop"]:hover::after,
  .button-wrapper[data-variant="accent5-neuraindrop"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Brand-emerge variant - same as neumorphic rainbow but with brand gradient */
  .button-wrapper[data-variant="brand-emerge"] {
    padding: 2px;
  }

  .button-wrapper[data-variant="brand-emerge"]::before {
    display: none;
  }

  .button-wrapper[data-variant="brand-emerge"] .rainbow-button {
    background: var(--color-Background-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="brand-emerge"]:hover .rainbow-button {
    background: var(--color-Background-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }

  .button-wrapper[data-variant="brand-emerge"]::after {
    opacity: 0;
    background: var(--gradient-brand-emerge);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }

  .button-wrapper[data-variant="brand-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* ============================================
     TOKEN-AWARE EMERGE VARIANTS - Neumorphic with token gradients
     ============================================ */

  /* Primary Emerge */
  .button-wrapper[data-variant="primary-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="primary-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="primary-emerge"] .rainbow-button {
    background: var(--color-Primary-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="primary-emerge"]:hover .rainbow-button {
    background: var(--color-Primary-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="primary-emerge"]::after {
    opacity: 0;
    background: var(--gradient-primary-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="primary-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Secondary Emerge */
  .button-wrapper[data-variant="secondary-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="secondary-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="secondary-emerge"] .rainbow-button {
    background: var(--color-Secondary-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="secondary-emerge"]:hover .rainbow-button {
    background: var(--color-Secondary-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="secondary-emerge"]::after {
    opacity: 0;
    background: var(--gradient-secondary-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="secondary-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent One Emerge */
  .button-wrapper[data-variant="accent1-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent1-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent1-emerge"] .rainbow-button {
    background: var(--color-AccentOne-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent1-emerge"]:hover .rainbow-button {
    background: var(--color-AccentOne-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent1-emerge"]::after {
    opacity: 0;
    background: var(--gradient-accent1-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent1-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Two Emerge */
  .button-wrapper[data-variant="accent2-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent2-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent2-emerge"] .rainbow-button {
    background: var(--color-AccentTwo-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent2-emerge"]:hover .rainbow-button {
    background: var(--color-AccentTwo-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent2-emerge"]::after {
    opacity: 0;
    background: var(--gradient-accent2-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent2-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Three Emerge */
  .button-wrapper[data-variant="accent3-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent3-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent3-emerge"] .rainbow-button {
    background: var(--color-AccentThree-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent3-emerge"]:hover .rainbow-button {
    background: var(--color-AccentThree-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent3-emerge"]::after {
    opacity: 0;
    background: var(--gradient-accent3-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent3-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Four Emerge */
  .button-wrapper[data-variant="accent4-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent4-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent4-emerge"] .rainbow-button {
    background: var(--color-AccentFour-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent4-emerge"]:hover .rainbow-button {
    background: var(--color-AccentFour-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent4-emerge"]::after {
    opacity: 0;
    background: var(--gradient-accent4-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent4-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Five Emerge */
  .button-wrapper[data-variant="accent5-emerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent5-emerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent5-emerge"] .rainbow-button {
    background: var(--color-AccentFive-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent5-emerge"]:hover .rainbow-button {
    background: var(--color-AccentFive-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent5-emerge"]::after {
    opacity: 0;
    background: var(--gradient-accent5-glow);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent5-emerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* ============================================
     RAINMERGE VARIANTS - Neumorphic with deep rainbow gradient halos
     ============================================ */

  /* Primary Rainmerge */
  .button-wrapper[data-variant="primary-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="primary-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="primary-rainmerge"] .rainbow-button {
    background: var(--color-Primary-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="primary-rainmerge"]:hover .rainbow-button {
    background: var(--color-Primary-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="primary-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="primary-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Secondary Rainmerge */
  .button-wrapper[data-variant="secondary-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="secondary-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="secondary-rainmerge"] .rainbow-button {
    background: var(--color-Secondary-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="secondary-rainmerge"]:hover .rainbow-button {
    background: var(--color-Secondary-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="secondary-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-secondary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="secondary-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent One Rainmerge */
  .button-wrapper[data-variant="accent1-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent1-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent1-rainmerge"] .rainbow-button {
    background: var(--color-AccentOne-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent1-rainmerge"]:hover .rainbow-button {
    background: var(--color-AccentOne-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent1-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-accent1);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent1-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Two Rainmerge */
  .button-wrapper[data-variant="accent2-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent2-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent2-rainmerge"] .rainbow-button {
    background: var(--color-AccentTwo-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent2-rainmerge"]:hover .rainbow-button {
    background: var(--color-AccentTwo-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent2-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-accent2);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent2-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Three Rainmerge */
  .button-wrapper[data-variant="accent3-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent3-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent3-rainmerge"] .rainbow-button {
    background: var(--color-AccentThree-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent3-rainmerge"]:hover .rainbow-button {
    background: var(--color-AccentThree-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent3-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-accent3);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent3-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Four Rainmerge */
  .button-wrapper[data-variant="accent4-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent4-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent4-rainmerge"] .rainbow-button {
    background: var(--color-AccentFour-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent4-rainmerge"]:hover .rainbow-button {
    background: var(--color-AccentFour-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent4-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-accent4);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent4-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Accent Five Rainmerge */
  .button-wrapper[data-variant="accent5-rainmerge"] {
    padding: 2px;
  }
  .button-wrapper[data-variant="accent5-rainmerge"]::before {
    display: none;
  }
  .button-wrapper[data-variant="accent5-rainmerge"] .rainbow-button {
    background: var(--color-AccentFive-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }
  .button-wrapper[data-variant="accent5-rainmerge"]:hover .rainbow-button {
    background: var(--color-AccentFive-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }
  .button-wrapper[data-variant="accent5-rainmerge"]::after {
    opacity: 0;
    background: var(--gradient-deep-accent5);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }
  .button-wrapper[data-variant="accent5-rainmerge"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* Neumorphic variant - rainbow gradient with neumorphic shadows */
  .button-wrapper[data-variant="neumorphic"] {
    padding: 2px;
  }

  .button-wrapper[data-variant="neumorphic"] .rainbow-button {
    background: var(--color-Background-100);
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-Background-200), transparent 30%);
  }

  /* Neumorphic variant - clean drop-shadow + halo only on hover */
  .button-wrapper[data-variant="neumorphic"] {
    padding: 2px;
  }

  /* Fully disable border mask for neumorphic */
  .button-wrapper[data-variant="neumorphic"]::before {
    display: none;
  }

  /* Clean static drop-shadow on button face */
  .button-wrapper[data-variant="neumorphic"] .rainbow-button {
    background: var(--color-Background-100);
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="neumorphic"]:hover .rainbow-button {
    background: var(--color-Background-100);
    border: none;
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
    color: var(--color-Text-700);
  }

  /* Turn halo off by default */
  .button-wrapper[data-variant="neumorphic"]::after {
    opacity: 0;
    background: var(--rainbow-light-gradient-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }

  /* Light halo only on hover with strong effects */
  .button-wrapper[data-variant="neumorphic"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }



  .button-wrapper[data-variant="demo"]:not(.disabled):hover .rainbow-button {
    background-color: var(--rainbow-hover-primary);
    color: var(--color-Text-700);
  }

  /* Glass variant - deprecated, use primary-glass through accent5-glass instead */

  /* ============================================
     NEW CREATIVE VARIANTS - Using new gradient system
     ============================================ */

  /* SPECTRUM - Uses the full all-variants rainbow */
  .button-wrapper[data-variant="spectrum"] .rainbow-button {
    background-color: var(--color-Primary-600);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }

  .button-wrapper[data-variant="spectrum"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-all-full);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  /* MEGA RAINBOW - The ultimate rainbow experience */
  .button-wrapper[data-variant="mega-rainbow"] .rainbow-button {
    background-color: var(--color-Secondary-700);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }

  .button-wrapper[data-variant="mega-rainbow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-all-mega);
    background-size: 300% 300%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  /* PRISMATIC VARIANTS - Light gradient glow (all color variants) */
  .button-wrapper[data-variant="primary-prismatic"]::before,
  .button-wrapper[data-variant="prismatic-primary"]::before {
    background: var(--gradient-light-primary);
  }
  .button-wrapper[data-variant="primary-prismatic"]::after,
  .button-wrapper[data-variant="prismatic-primary"]::after {
    background: var(--gradient-light-primary);
  }
  .button-wrapper[data-variant="primary-prismatic"] .rainbow-button,
  .button-wrapper[data-variant="prismatic-primary"] .rainbow-button {
    background-color: var(--color-Primary-200);
    color: var(--color-Primary-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="primary-prismatic"] .rainbow-button:hover,
  .button-wrapper[data-variant="prismatic-primary"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Primary-900);
  }

  .button-wrapper[data-variant="secondary-prismatic"]::before,
  .button-wrapper[data-variant="prismatic-secondary"]::before {
    background: var(--gradient-light-secondary);
  }
  .button-wrapper[data-variant="secondary-prismatic"]::after,
  .button-wrapper[data-variant="prismatic-secondary"]::after {
    background: var(--gradient-light-secondary);
  }
  .button-wrapper[data-variant="secondary-prismatic"] .rainbow-button,
  .button-wrapper[data-variant="prismatic-secondary"] .rainbow-button {
    background-color: var(--color-Secondary-200);
    color: var(--color-Secondary-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="secondary-prismatic"] .rainbow-button:hover,
  .button-wrapper[data-variant="prismatic-secondary"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-secondary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Secondary-900);
  }

  .button-wrapper[data-variant="accent1-prismatic"]::before {
    background: var(--gradient-light-accent1);
  }
  .button-wrapper[data-variant="accent1-prismatic"]::after {
    background: var(--gradient-light-accent1);
  }
  .button-wrapper[data-variant="accent1-prismatic"] .rainbow-button {
    background-color: var(--color-AccentOne-200);
    color: var(--color-AccentOne-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="accent1-prismatic"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-accent1);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-AccentOne-900);
  }

  .button-wrapper[data-variant="accent2-prismatic"]::before {
    background: var(--gradient-light-accent2);
  }
  .button-wrapper[data-variant="accent2-prismatic"]::after {
    background: var(--gradient-light-accent2);
  }
  .button-wrapper[data-variant="accent2-prismatic"] .rainbow-button {
    background-color: var(--color-AccentTwo-200);
    color: var(--color-AccentTwo-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="accent2-prismatic"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-accent2);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-AccentTwo-900);
  }

  .button-wrapper[data-variant="accent3-prismatic"]::before {
    background: var(--gradient-light-accent3);
  }
  .button-wrapper[data-variant="accent3-prismatic"]::after {
    background: var(--gradient-light-accent3);
  }
  .button-wrapper[data-variant="accent3-prismatic"] .rainbow-button {
    background-color: var(--color-AccentThree-200);
    color: var(--color-AccentThree-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="accent3-prismatic"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-accent3);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-AccentThree-900);
  }

  .button-wrapper[data-variant="accent4-prismatic"]::before {
    background: var(--gradient-light-accent4);
  }
  .button-wrapper[data-variant="accent4-prismatic"]::after {
    background: var(--gradient-light-accent4);
  }
  .button-wrapper[data-variant="accent4-prismatic"] .rainbow-button {
    background-color: var(--color-AccentFour-200);
    color: var(--color-AccentFour-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="accent4-prismatic"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-accent4);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-AccentFour-900);
  }

  .button-wrapper[data-variant="accent5-prismatic"]::before {
    background: var(--gradient-light-accent5);
  }
  .button-wrapper[data-variant="accent5-prismatic"]::after {
    background: var(--gradient-light-accent5);
  }
  .button-wrapper[data-variant="accent5-prismatic"] .rainbow-button {
    background-color: var(--color-AccentFive-200);
    color: var(--color-AccentFive-800);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.2);
  }
  .button-wrapper[data-variant="accent5-prismatic"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-light-accent5);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-AccentFive-900);
  }

  /* VIVID BURST VARIANTS - Bold vivid gradients (all color variants) */
  .button-wrapper[data-variant="primary-vivid-burst"]::before,
  .button-wrapper[data-variant="vivid-burst-primary"]::before {
    background: var(--gradient-vivid-primary);
  }
  .button-wrapper[data-variant="primary-vivid-burst"]::after,
  .button-wrapper[data-variant="vivid-burst-primary"]::after {
    background: var(--gradient-vivid-primary);
  }
  .button-wrapper[data-variant="primary-vivid-burst"] .rainbow-button,
  .button-wrapper[data-variant="vivid-burst-primary"] .rainbow-button {
    background-color: var(--color-Primary-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="primary-vivid-burst"] .rainbow-button:hover,
  .button-wrapper[data-variant="vivid-burst-primary"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="secondary-vivid-burst"]::before,
  .button-wrapper[data-variant="vivid-burst-secondary"]::before {
    background: var(--gradient-vivid-secondary);
  }
  .button-wrapper[data-variant="secondary-vivid-burst"]::after,
  .button-wrapper[data-variant="vivid-burst-secondary"]::after {
    background: var(--gradient-vivid-secondary);
  }

  .button-wrapper[data-variant="accent1-vivid-burst"]::before { background: var(--gradient-vivid-accent1); }
  .button-wrapper[data-variant="accent1-vivid-burst"]::after { background: var(--gradient-vivid-accent1); }
  .button-wrapper[data-variant="accent2-vivid-burst"]::before { background: var(--gradient-vivid-accent2); }
  .button-wrapper[data-variant="accent2-vivid-burst"]::after { background: var(--gradient-vivid-accent2); }
  .button-wrapper[data-variant="accent3-vivid-burst"]::before { background: var(--gradient-vivid-accent3); }
  .button-wrapper[data-variant="accent3-vivid-burst"]::after { background: var(--gradient-vivid-accent3); }
  .button-wrapper[data-variant="accent4-vivid-burst"]::before { background: var(--gradient-vivid-accent4); }
  .button-wrapper[data-variant="accent4-vivid-burst"]::after { background: var(--gradient-vivid-accent4); }
  .button-wrapper[data-variant="accent5-vivid-burst"]::before { background: var(--gradient-vivid-accent5); }
  .button-wrapper[data-variant="accent5-vivid-burst"]::after { background: var(--gradient-vivid-accent5); }

  .button-wrapper[data-variant="secondary-vivid-burst"] .rainbow-button,
  .button-wrapper[data-variant="vivid-burst-secondary"] .rainbow-button {
    background-color: var(--color-Secondary-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="secondary-vivid-burst"] .rainbow-button:hover,
  .button-wrapper[data-variant="vivid-burst-secondary"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-secondary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent1-vivid-burst"] .rainbow-button {
    background-color: var(--color-AccentOne-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="accent1-vivid-burst"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-accent1);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent2-vivid-burst"] .rainbow-button {
    background-color: var(--color-AccentTwo-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="accent2-vivid-burst"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-accent2);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent3-vivid-burst"] .rainbow-button {
    background-color: var(--color-AccentThree-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="accent3-vivid-burst"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-accent3);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent4-vivid-burst"] .rainbow-button {
    background-color: var(--color-AccentFour-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="accent4-vivid-burst"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-accent4);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent5-vivid-burst"] .rainbow-button {
    background-color: var(--color-AccentFive-500);
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }
  .button-wrapper[data-variant="accent5-vivid-burst"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-vivid-accent5);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  /* DEEP GLOW VARIANTS - Deep rich gradients (all color variants) */
  .button-wrapper[data-variant="primary-deep-glow"]::before,
  .button-wrapper[data-variant="deep-glow-primary"]::before {
    background: var(--gradient-deep-primary);
  }
  .button-wrapper[data-variant="primary-deep-glow"]::after,
  .button-wrapper[data-variant="deep-glow-primary"]::after {
    background: var(--gradient-deep-primary);
  }

  .button-wrapper[data-variant="secondary-deep-glow"]::before,
  .button-wrapper[data-variant="deep-glow-secondary"]::before {
    background: var(--gradient-deep-secondary);
  }
  .button-wrapper[data-variant="secondary-deep-glow"]::after,
  .button-wrapper[data-variant="deep-glow-secondary"]::after {
    background: var(--gradient-deep-secondary);
  }

  .button-wrapper[data-variant="accent1-deep-glow"]::before { background: var(--gradient-deep-accent1); }
  .button-wrapper[data-variant="accent1-deep-glow"]::after { background: var(--gradient-deep-accent1); }
  .button-wrapper[data-variant="accent2-deep-glow"]::before { background: var(--gradient-deep-accent2); }
  .button-wrapper[data-variant="accent2-deep-glow"]::after { background: var(--gradient-deep-accent2); }
  .button-wrapper[data-variant="accent3-deep-glow"]::before { background: var(--gradient-deep-accent3); }
  .button-wrapper[data-variant="accent3-deep-glow"]::after { background: var(--gradient-deep-accent3); }
  .button-wrapper[data-variant="accent4-deep-glow"]::before { background: var(--gradient-deep-accent4); }
  .button-wrapper[data-variant="accent4-deep-glow"]::after { background: var(--gradient-deep-accent4); }
  .button-wrapper[data-variant="accent5-deep-glow"]::before { background: var(--gradient-deep-accent5); }
  .button-wrapper[data-variant="accent5-deep-glow"]::after { background: var(--gradient-deep-accent5); }

  .button-wrapper[data-variant="primary-deep-glow"] .rainbow-button,
  .button-wrapper[data-variant="deep-glow-primary"] .rainbow-button {
    background-color: var(--color-Primary-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="primary-deep-glow"] .rainbow-button:hover,
  .button-wrapper[data-variant="deep-glow-primary"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-primary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="secondary-deep-glow"] .rainbow-button,
  .button-wrapper[data-variant="deep-glow-secondary"] .rainbow-button {
    background-color: var(--color-Secondary-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="secondary-deep-glow"] .rainbow-button:hover,
  .button-wrapper[data-variant="deep-glow-secondary"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-secondary);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent1-deep-glow"] .rainbow-button {
    background-color: var(--color-AccentOne-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="accent1-deep-glow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-accent1);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent2-deep-glow"] .rainbow-button {
    background-color: var(--color-AccentTwo-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="accent2-deep-glow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-accent2);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent3-deep-glow"] .rainbow-button {
    background-color: var(--color-AccentThree-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="accent3-deep-glow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-accent3);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent4-deep-glow"] .rainbow-button {
    background-color: var(--color-AccentFour-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="accent4-deep-glow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-accent4);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  .button-wrapper[data-variant="accent5-deep-glow"] .rainbow-button {
    background-color: var(--color-AccentFive-700);
    color: var(--color-Background-50);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
  }
  .button-wrapper[data-variant="accent5-deep-glow"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-deep-accent5);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  /* LIGHT DREAM - Pastel rainbow all variants */
  .button-wrapper[data-variant="light-dream"] .rainbow-button {
    background-color: var(--color-Background-100);
    color: var(--color-Text-700);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.15);
    border: 1px solid var(--color-Neutral-300);
  }

  .button-wrapper[data-variant="light-dream"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-pastel-rainbow-all);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Text-800);
  }

  /* VIVID GLASS - Glassmorphic with vivid rainbow */
  .button-wrapper[data-variant="vivid-glass"] {
    position: relative;
  }

  .button-wrapper[data-variant="vivid-glass"]::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: var(--radius-full);
    background: var(--gradient-vivid-rainbow-all);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    z-index: -1;
  }

  .button-wrapper[data-variant="vivid-glass"] .rainbow-button {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .button-wrapper[data-variant="vivid-glass"]:not(.disabled):hover .rainbow-button {
    background: rgba(255, 255, 255, 0.25);
    color: var(--color-Text-950);
  }

  /* DEEP NEUMORPHIC - Neumorphic with deep rainbow halo */
  .button-wrapper[data-variant="deep-neumorphic"] {
    position: relative;
  }

  .button-wrapper[data-variant="deep-neumorphic"] .rainbow-button {
    background: var(--color-Background-100);
    color: var(--color-Text-700);
    box-shadow:
      8px 8px 16px rgba(0, 0, 0, 0.15),
      -8px -8px 16px rgba(255, 255, 255, 0.7),
      inset 2px 2px 4px rgba(0, 0, 0, 0.05);
  }

  .button-wrapper[data-variant="deep-neumorphic"]::after {
    content: '';
    position: absolute;
    inset: -8px;
    border-radius: var(--radius-full);
    background: var(--gradient-deep-rainbow-all);
    background-size: 200% 200%;
    opacity: 0;
    filter: blur(24px);
    pointer-events: none;
    z-index: -1;
    transition: opacity 0.4s ease;
  }

  .button-wrapper[data-variant="deep-neumorphic"]:hover::after {
    opacity: 0.8;
    animation: var(--rainbow-border-animation);
  }

  .button-wrapper[data-variant="deep-neumorphic"]:not(.disabled):hover .rainbow-button {
    box-shadow:
      4px 4px 8px rgba(0, 0, 0, 0.2),
      -4px -4px 8px rgba(255, 255, 255, 0.9),
      inset 1px 1px 2px rgba(0, 0, 0, 0.1);
  }

  /* ============================================
     TOKEN-AWARE SPECTRUM VARIANTS
     ============================================ */

  .button-wrapper[data-variant="primary-spectrum"] .rainbow-button,
  .button-wrapper[data-variant="secondary-spectrum"] .rainbow-button,
  .button-wrapper[data-variant="accent1-spectrum"] .rainbow-button,
  .button-wrapper[data-variant="accent2-spectrum"] .rainbow-button,
  .button-wrapper[data-variant="accent3-spectrum"] .rainbow-button,
  .button-wrapper[data-variant="accent4-spectrum"] .rainbow-button,
  .button-wrapper[data-variant="accent5-spectrum"] .rainbow-button {
    color: var(--color-Background-50);
    box-shadow: 0 8px 16px -2px rgba(0, 0, 0, 0.3);
  }

  .button-wrapper[data-variant="primary-spectrum"] .rainbow-button { background-color: var(--color-Primary-600); }
  .button-wrapper[data-variant="secondary-spectrum"] .rainbow-button { background-color: var(--color-Secondary-600); }
  .button-wrapper[data-variant="accent1-spectrum"] .rainbow-button { background-color: var(--color-AccentOne-600); }
  .button-wrapper[data-variant="accent2-spectrum"] .rainbow-button { background-color: var(--color-AccentTwo-600); }
  .button-wrapper[data-variant="accent3-spectrum"] .rainbow-button { background-color: var(--color-AccentThree-600); }
  .button-wrapper[data-variant="accent4-spectrum"] .rainbow-button { background-color: var(--color-AccentFour-600); }
  .button-wrapper[data-variant="accent5-spectrum"] .rainbow-button { background-color: var(--color-AccentFive-600); }

  .button-wrapper[data-variant="primary-spectrum"] .rainbow-button:hover,
  .button-wrapper[data-variant="secondary-spectrum"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent1-spectrum"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent2-spectrum"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent3-spectrum"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent4-spectrum"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent5-spectrum"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-rainbow-all-full);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Background-50);
  }

  /* Token-aware borders for spectrum */
  .button-wrapper[data-variant="primary-spectrum"]::before { background: var(--gradient-rainbow-primary); }
  .button-wrapper[data-variant="secondary-spectrum"]::before { background: var(--gradient-rainbow-secondary); }
  .button-wrapper[data-variant="accent1-spectrum"]::before { background: var(--gradient-rainbow-accent1); }
  .button-wrapper[data-variant="accent2-spectrum"]::before { background: var(--gradient-rainbow-accent2); }
  .button-wrapper[data-variant="accent3-spectrum"]::before { background: var(--gradient-rainbow-accent3); }
  .button-wrapper[data-variant="accent4-spectrum"]::before { background: var(--gradient-rainbow-accent4); }
  .button-wrapper[data-variant="accent5-spectrum"]::before { background: var(--gradient-rainbow-accent5); }

  /* Token-aware halos for spectrum */
  .button-wrapper[data-variant="primary-spectrum"]::after { background: var(--gradient-rainbow-primary); }
  .button-wrapper[data-variant="secondary-spectrum"]::after { background: var(--gradient-rainbow-secondary); }
  .button-wrapper[data-variant="accent1-spectrum"]::after { background: var(--gradient-rainbow-accent1); }
  .button-wrapper[data-variant="accent2-spectrum"]::after { background: var(--gradient-rainbow-accent2); }
  .button-wrapper[data-variant="accent3-spectrum"]::after { background: var(--gradient-rainbow-accent3); }
  .button-wrapper[data-variant="accent4-spectrum"]::after { background: var(--gradient-rainbow-accent4); }
  .button-wrapper[data-variant="accent5-spectrum"]::after { background: var(--gradient-rainbow-accent5); }

  /* ============================================
     TOKEN-AWARE DEEPBOW VARIANTS (Neumorphic with deep rainbow halos)
     ============================================ */

  .button-wrapper[data-variant="primary-deepbow"],
  .button-wrapper[data-variant="secondary-deepbow"],
  .button-wrapper[data-variant="accent1-deepbow"],
  .button-wrapper[data-variant="accent2-deepbow"],
  .button-wrapper[data-variant="accent3-deepbow"],
  .button-wrapper[data-variant="accent4-deepbow"],
  .button-wrapper[data-variant="accent5-deepbow"] {
    padding: 2px;
  }

  .button-wrapper[data-variant="primary-deepbow"]::before,
  .button-wrapper[data-variant="secondary-deepbow"]::before,
  .button-wrapper[data-variant="accent1-deepbow"]::before,
  .button-wrapper[data-variant="accent2-deepbow"]::before,
  .button-wrapper[data-variant="accent3-deepbow"]::before,
  .button-wrapper[data-variant="accent4-deepbow"]::before,
  .button-wrapper[data-variant="accent5-deepbow"]::before {
    display: none;
  }

  .button-wrapper[data-variant="primary-deepbow"] .rainbow-button,
  .button-wrapper[data-variant="secondary-deepbow"] .rainbow-button,
  .button-wrapper[data-variant="accent1-deepbow"] .rainbow-button,
  .button-wrapper[data-variant="accent2-deepbow"] .rainbow-button,
  .button-wrapper[data-variant="accent3-deepbow"] .rainbow-button,
  .button-wrapper[data-variant="accent4-deepbow"] .rainbow-button,
  .button-wrapper[data-variant="accent5-deepbow"] .rainbow-button {
    border: none;
    box-shadow:
      var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 30%, transparent),
      calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 90%, transparent);
  }

  .button-wrapper[data-variant="primary-deepbow"] .rainbow-button { background: var(--color-Primary-700); color: var(--color-Background-50); }
  .button-wrapper[data-variant="secondary-deepbow"] .rainbow-button { background: var(--color-Secondary-700); color: var(--color-Background-50); }
  .button-wrapper[data-variant="accent1-deepbow"] .rainbow-button { background: var(--color-AccentOne-700); color: var(--color-Background-50); }
  .button-wrapper[data-variant="accent2-deepbow"] .rainbow-button { background: var(--color-AccentTwo-700); color: var(--color-Background-50); }
  .button-wrapper[data-variant="accent3-deepbow"] .rainbow-button { background: var(--color-AccentThree-700); color: var(--color-Background-50); }
  .button-wrapper[data-variant="accent4-deepbow"] .rainbow-button { background: var(--color-AccentFour-700); color: var(--color-Background-50); }
  .button-wrapper[data-variant="accent5-deepbow"] .rainbow-button { background: var(--color-AccentFive-700); color: var(--color-Background-50); }

  .button-wrapper[data-variant="primary-deepbow"]:hover .rainbow-button,
  .button-wrapper[data-variant="secondary-deepbow"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent1-deepbow"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent2-deepbow"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent3-deepbow"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent4-deepbow"]:hover .rainbow-button,
  .button-wrapper[data-variant="accent5-deepbow"]:hover .rainbow-button {
    box-shadow:
      inset var(--space-sm) var(--space-sm) calc(var(--space-lg) * 1.5) color-mix(in srgb, var(--color-Text-950) 25%, transparent),
      inset calc(var(--space-sm) * -1) calc(var(--space-sm) * -1) calc(var(--space-lg) * 1.5) color-mix(in srgb, white 80%, transparent);
  }

  /* Token-aware animated halo for deepbow */
  .button-wrapper[data-variant="primary-deepbow"]::after { background: var(--gradient-deep-primary); }
  .button-wrapper[data-variant="secondary-deepbow"]::after { background: var(--gradient-deep-secondary); }
  .button-wrapper[data-variant="accent1-deepbow"]::after { background: var(--gradient-deep-accent1); }
  .button-wrapper[data-variant="accent2-deepbow"]::after { background: var(--gradient-deep-accent2); }
  .button-wrapper[data-variant="accent3-deepbow"]::after { background: var(--gradient-deep-accent3); }
  .button-wrapper[data-variant="accent4-deepbow"]::after { background: var(--gradient-deep-accent4); }
  .button-wrapper[data-variant="accent5-deepbow"]::after { background: var(--gradient-deep-accent5); }

  .button-wrapper[data-variant="primary-deepbow"]::after,
  .button-wrapper[data-variant="secondary-deepbow"]::after,
  .button-wrapper[data-variant="accent1-deepbow"]::after,
  .button-wrapper[data-variant="accent2-deepbow"]::after,
  .button-wrapper[data-variant="accent3-deepbow"]::after,
  .button-wrapper[data-variant="accent4-deepbow"]::after,
  .button-wrapper[data-variant="accent5-deepbow"]::after {
    opacity: 0;
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    pointer-events: none;
    z-index: -2;
    transition: opacity .4s ease, filter .4s ease;
  }

  .button-wrapper[data-variant="primary-deepbow"]:hover::after,
  .button-wrapper[data-variant="secondary-deepbow"]:hover::after,
  .button-wrapper[data-variant="accent1-deepbow"]:hover::after,
  .button-wrapper[data-variant="accent2-deepbow"]:hover::after,
  .button-wrapper[data-variant="accent3-deepbow"]:hover::after,
  .button-wrapper[data-variant="accent4-deepbow"]:hover::after,
  .button-wrapper[data-variant="accent5-deepbow"]:hover::after {
    opacity: 1;
    filter: blur(clamp(16px, 3vw, 40px)) saturate(1.6) contrast(1.5);
    mix-blend-mode: multiply;
  }

  /* ============================================
     TOKEN-AWARE DREAM VARIANTS
     ============================================ */

  .button-wrapper[data-variant="primary-dream"] .rainbow-button,
  .button-wrapper[data-variant="secondary-dream"] .rainbow-button,
  .button-wrapper[data-variant="accent1-dream"] .rainbow-button,
  .button-wrapper[data-variant="accent2-dream"] .rainbow-button,
  .button-wrapper[data-variant="accent3-dream"] .rainbow-button,
  .button-wrapper[data-variant="accent4-dream"] .rainbow-button,
  .button-wrapper[data-variant="accent5-dream"] .rainbow-button {
    color: var(--color-Text-700);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.15);
  }

  .button-wrapper[data-variant="primary-dream"] .rainbow-button {
    background-color: var(--color-Primary-100);
    border: 1px solid var(--color-Primary-300);
  }
  .button-wrapper[data-variant="secondary-dream"] .rainbow-button {
    background-color: var(--color-Secondary-100);
    border: 1px solid var(--color-Secondary-300);
  }
  .button-wrapper[data-variant="accent1-dream"] .rainbow-button {
    background-color: var(--color-AccentOne-100);
    border: 1px solid var(--color-AccentOne-300);
  }
  .button-wrapper[data-variant="accent2-dream"] .rainbow-button {
    background-color: var(--color-AccentTwo-100);
    border: 1px solid var(--color-AccentTwo-300);
  }
  .button-wrapper[data-variant="accent3-dream"] .rainbow-button {
    background-color: var(--color-AccentThree-100);
    border: 1px solid var(--color-AccentThree-300);
  }
  .button-wrapper[data-variant="accent4-dream"] .rainbow-button {
    background-color: var(--color-AccentFour-100);
    border: 1px solid var(--color-AccentFour-300);
  }
  .button-wrapper[data-variant="accent5-dream"] .rainbow-button {
    background-color: var(--color-AccentFive-100);
    border: 1px solid var(--color-AccentFive-300);
  }

  .button-wrapper[data-variant="primary-dream"] .rainbow-button:hover,
  .button-wrapper[data-variant="secondary-dream"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent1-dream"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent2-dream"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent3-dream"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent4-dream"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent5-dream"]:not(.disabled):hover .rainbow-button {
    background: var(--gradient-pastel-rainbow-all);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    color: var(--color-Text-800);
  }

  /* Token-aware borders for dream */
  .button-wrapper[data-variant="primary-dream"]::before { background: var(--gradient-light-primary); }
  .button-wrapper[data-variant="secondary-dream"]::before { background: var(--gradient-light-secondary); }
  .button-wrapper[data-variant="accent1-dream"]::before { background: var(--gradient-light-accent1); }
  .button-wrapper[data-variant="accent2-dream"]::before { background: var(--gradient-light-accent2); }
  .button-wrapper[data-variant="accent3-dream"]::before { background: var(--gradient-light-accent3); }
  .button-wrapper[data-variant="accent4-dream"]::before { background: var(--gradient-light-accent4); }
  .button-wrapper[data-variant="accent5-dream"]::before { background: var(--gradient-light-accent5); }

  /* Token-aware halos for dream */
  .button-wrapper[data-variant="primary-dream"]::after { background: var(--gradient-light-primary); }
  .button-wrapper[data-variant="secondary-dream"]::after { background: var(--gradient-light-secondary); }
  .button-wrapper[data-variant="accent1-dream"]::after { background: var(--gradient-light-accent1); }
  .button-wrapper[data-variant="accent2-dream"]::after { background: var(--gradient-light-accent2); }
  .button-wrapper[data-variant="accent3-dream"]::after { background: var(--gradient-light-accent3); }
  .button-wrapper[data-variant="accent4-dream"]::after { background: var(--gradient-light-accent4); }
  .button-wrapper[data-variant="accent5-dream"]::after { background: var(--gradient-light-accent5); }

  /* ============================================
     TOKEN-AWARE VIVID VARIANTS (Glassmorphic)
     ============================================ */

  .button-wrapper[data-variant="primary-vivid"],
  .button-wrapper[data-variant="secondary-vivid"],
  .button-wrapper[data-variant="accent1-vivid"],
  .button-wrapper[data-variant="accent2-vivid"],
  .button-wrapper[data-variant="accent3-vivid"],
  .button-wrapper[data-variant="accent4-vivid"],
  .button-wrapper[data-variant="accent5-vivid"] {
    position: relative;
  }

  /* Token-aware vivid gradient borders */
  .button-wrapper[data-variant="primary-vivid"]::before { background: var(--gradient-vivid-primary); }
  .button-wrapper[data-variant="secondary-vivid"]::before { background: var(--gradient-vivid-secondary); }
  .button-wrapper[data-variant="accent1-vivid"]::before { background: var(--gradient-vivid-accent1); }
  .button-wrapper[data-variant="accent2-vivid"]::before { background: var(--gradient-vivid-accent2); }
  .button-wrapper[data-variant="accent3-vivid"]::before { background: var(--gradient-vivid-accent3); }
  .button-wrapper[data-variant="accent4-vivid"]::before { background: var(--gradient-vivid-accent4); }
  .button-wrapper[data-variant="accent5-vivid"]::before { background: var(--gradient-vivid-accent5); }

  .button-wrapper[data-variant="primary-vivid"]::before,
  .button-wrapper[data-variant="secondary-vivid"]::before,
  .button-wrapper[data-variant="accent1-vivid"]::before,
  .button-wrapper[data-variant="accent2-vivid"]::before,
  .button-wrapper[data-variant="accent3-vivid"]::before,
  .button-wrapper[data-variant="accent4-vivid"]::before,
  .button-wrapper[data-variant="accent5-vivid"]::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: var(--radius-full);
    background-size: 200% 200%;
    animation: var(--rainbow-border-animation);
    z-index: -1;
  }

  /* Token-aware glassmorphic backgrounds */
  .button-wrapper[data-variant="primary-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-Primary-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-Primary-300) 30%, rgba(255, 255, 255, 0.3));
  }

  .button-wrapper[data-variant="secondary-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-Secondary-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-Secondary-300) 30%, rgba(255, 255, 255, 0.3));
  }

  .button-wrapper[data-variant="accent1-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentOne-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-AccentOne-300) 30%, rgba(255, 255, 255, 0.3));
  }

  .button-wrapper[data-variant="accent2-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentTwo-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-AccentTwo-300) 30%, rgba(255, 255, 255, 0.3));
  }

  .button-wrapper[data-variant="accent3-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentThree-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-AccentThree-300) 30%, rgba(255, 255, 255, 0.3));
  }

  .button-wrapper[data-variant="accent4-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentFour-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-AccentFour-300) 30%, rgba(255, 255, 255, 0.3));
  }

  .button-wrapper[data-variant="accent5-vivid"] .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentFive-400) 20%, rgba(255, 255, 255, 0.15));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: var(--color-Text-900);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid color-mix(in srgb, var(--color-AccentFive-300) 30%, rgba(255, 255, 255, 0.3));
  }

  /* Token-aware hover states */
  .button-wrapper[data-variant="primary-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-Primary-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  .button-wrapper[data-variant="secondary-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-Secondary-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  .button-wrapper[data-variant="accent1-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentOne-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  .button-wrapper[data-variant="accent2-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentTwo-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  .button-wrapper[data-variant="accent3-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentThree-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  .button-wrapper[data-variant="accent4-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentFour-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  .button-wrapper[data-variant="accent5-vivid"]:not(.disabled):hover .rainbow-button {
    background: color-mix(in srgb, var(--color-AccentFive-400) 30%, rgba(255, 255, 255, 0.25));
    color: var(--color-Text-950);
  }

  /* Token-aware halos for vivid */
  .button-wrapper[data-variant="primary-vivid"]::after { background: var(--gradient-vivid-primary); }
  .button-wrapper[data-variant="secondary-vivid"]::after { background: var(--gradient-vivid-secondary); }
  .button-wrapper[data-variant="accent1-vivid"]::after { background: var(--gradient-vivid-accent1); }
  .button-wrapper[data-variant="accent2-vivid"]::after { background: var(--gradient-vivid-accent2); }
  .button-wrapper[data-variant="accent3-vivid"]::after { background: var(--gradient-vivid-accent3); }
  .button-wrapper[data-variant="accent4-vivid"]::after { background: var(--gradient-vivid-accent4); }
  .button-wrapper[data-variant="accent5-vivid"]::after { background: var(--gradient-vivid-accent5); }

  /* ============================================
     TOKEN-AWARE DEEPNEU VARIANTS (Deep Neumorphic)
     ============================================ */

  .button-wrapper[data-variant="primary-deepneu"],
  .button-wrapper[data-variant="secondary-deepneu"],
  .button-wrapper[data-variant="accent1-deepneu"],
  .button-wrapper[data-variant="accent2-deepneu"],
  .button-wrapper[data-variant="accent3-deepneu"],
  .button-wrapper[data-variant="accent4-deepneu"],
  .button-wrapper[data-variant="accent5-deepneu"] {
    position: relative;
  }

  .button-wrapper[data-variant="primary-deepneu"] .rainbow-button,
  .button-wrapper[data-variant="secondary-deepneu"] .rainbow-button,
  .button-wrapper[data-variant="accent1-deepneu"] .rainbow-button,
  .button-wrapper[data-variant="accent2-deepneu"] .rainbow-button,
  .button-wrapper[data-variant="accent3-deepneu"] .rainbow-button,
  .button-wrapper[data-variant="accent4-deepneu"] .rainbow-button,
  .button-wrapper[data-variant="accent5-deepneu"] .rainbow-button {
    color: var(--color-Text-700);
    box-shadow:
      8px 8px 16px rgba(0, 0, 0, 0.15),
      -8px -8px 16px rgba(255, 255, 255, 0.7),
      inset 2px 2px 4px rgba(0, 0, 0, 0.05);
  }

  .button-wrapper[data-variant="primary-deepneu"] .rainbow-button { background: var(--color-Primary-100); }
  .button-wrapper[data-variant="secondary-deepneu"] .rainbow-button { background: var(--color-Secondary-100); }
  .button-wrapper[data-variant="accent1-deepneu"] .rainbow-button { background: var(--color-AccentOne-100); }
  .button-wrapper[data-variant="accent2-deepneu"] .rainbow-button { background: var(--color-AccentTwo-100); }
  .button-wrapper[data-variant="accent3-deepneu"] .rainbow-button { background: var(--color-AccentThree-100); }
  .button-wrapper[data-variant="accent4-deepneu"] .rainbow-button { background: var(--color-AccentFour-100); }
  .button-wrapper[data-variant="accent5-deepneu"] .rainbow-button { background: var(--color-AccentFive-100); }

  .button-wrapper[data-variant="primary-deepneu"]::after { background: var(--gradient-deep-primary); }
  .button-wrapper[data-variant="secondary-deepneu"]::after { background: var(--gradient-deep-secondary); }
  .button-wrapper[data-variant="accent1-deepneu"]::after { background: var(--gradient-deep-accent1); }
  .button-wrapper[data-variant="accent2-deepneu"]::after { background: var(--gradient-deep-accent2); }
  .button-wrapper[data-variant="accent3-deepneu"]::after { background: var(--gradient-deep-accent3); }
  .button-wrapper[data-variant="accent4-deepneu"]::after { background: var(--gradient-deep-accent4); }
  .button-wrapper[data-variant="accent5-deepneu"]::after { background: var(--gradient-deep-accent5); }

  .button-wrapper[data-variant="primary-deepneu"]::after,
  .button-wrapper[data-variant="secondary-deepneu"]::after,
  .button-wrapper[data-variant="accent1-deepneu"]::after,
  .button-wrapper[data-variant="accent2-deepneu"]::after,
  .button-wrapper[data-variant="accent3-deepneu"]::after,
  .button-wrapper[data-variant="accent4-deepneu"]::after,
  .button-wrapper[data-variant="accent5-deepneu"]::after {
    content: '';
    position: absolute;
    inset: -8px;
    border-radius: var(--radius-full);
    background-size: 200% 200%;
    opacity: 0;
    filter: blur(24px);
    pointer-events: none;
    z-index: -1;
    transition: opacity 0.4s ease;
  }

  .button-wrapper[data-variant="primary-deepneu"]:hover::after,
  .button-wrapper[data-variant="secondary-deepneu"]:hover::after,
  .button-wrapper[data-variant="accent1-deepneu"]:hover::after,
  .button-wrapper[data-variant="accent2-deepneu"]:hover::after,
  .button-wrapper[data-variant="accent3-deepneu"]:hover::after,
  .button-wrapper[data-variant="accent4-deepneu"]:hover::after,
  .button-wrapper[data-variant="accent5-deepneu"]:hover::after {
    opacity: 0.8;
    animation: var(--rainbow-border-animation);
  }

  .button-wrapper[data-variant="primary-deepneu"] .rainbow-button:hover,
  .button-wrapper[data-variant="secondary-deepneu"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent1-deepneu"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent2-deepneu"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent3-deepneu"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent4-deepneu"] .rainbow-button:hover,
  .button-wrapper[data-variant="accent5-deepneu"]:not(.disabled):hover .rainbow-button {
    box-shadow:
      4px 4px 8px rgba(0, 0, 0, 0.2),
      -4px -4px 8px rgba(255, 255, 255, 0.9),
      inset 1px 1px 2px rgba(0, 0, 0, 0.1);
  }

  /* Disabled state */
  .button-wrapper.disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .button-wrapper.disabled .rainbow-button {
    cursor: not-allowed;
    pointer-events: none;
  }

  .button-wrapper.disabled::before,
  .button-wrapper.disabled::after {
    animation: none !important;
  }

  /* Prevent all hover effects on disabled buttons */
  .button-wrapper.disabled:hover::before,
  .button-wrapper.disabled:hover::after {
    animation: none !important;
  }

  .button-wrapper.disabled .rainbow-button:hover {
    background: inherit !important;
    transform: none !important;
    box-shadow: inherit !important;
  }

  /* ============================================
     GLOW ONLY VARIANTS - Border and glow on hover, no fill
     ============================================ */

  /* Glowonly variants - no fill on hover, only border and glow */
  .button-wrapper[data-variant="primary-glowonly"]:not(.disabled):hover .rainbow-button,
  .button-wrapper[data-variant="secondary-glowonly"]:not(.disabled):hover .rainbow-button,
  .button-wrapper[data-variant="accent1-glowonly"]:not(.disabled):hover .rainbow-button,
  .button-wrapper[data-variant="accent2-glowonly"]:not(.disabled):hover .rainbow-button,
  .button-wrapper[data-variant="accent3-glowonly"]:not(.disabled):hover .rainbow-button,
  .button-wrapper[data-variant="accent4-glowonly"]:not(.disabled):hover .rainbow-button,
  .button-wrapper[data-variant="accent5-glowonly"]:not(.disabled):hover .rainbow-button {
    background-color: transparent !important;
  }

  /* Set up glowonly border gradients */
  .button-wrapper[data-variant="primary-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600), var(--color-Secondary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-AccentOne-400), var(--color-AccentOne-600), var(--color-AccentOne-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-AccentTwo-400), var(--color-AccentTwo-600), var(--color-AccentTwo-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-AccentThree-400), var(--color-AccentThree-600), var(--color-AccentThree-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-AccentFour-400), var(--color-AccentFour-600), var(--color-AccentFour-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5-glowonly"]::before {
    background: linear-gradient(135deg, var(--color-AccentFive-400), var(--color-AccentFive-600), var(--color-AccentFive-500));
    background-size: 200% 200%;
  }

  /* Set up glowonly halo gradients */
  .button-wrapper[data-variant="primary-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600), var(--color-Primary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="secondary-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600), var(--color-Secondary-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent1-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-AccentOne-400), var(--color-AccentOne-600), var(--color-AccentOne-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent2-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-AccentTwo-400), var(--color-AccentTwo-600), var(--color-AccentTwo-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent3-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-AccentThree-400), var(--color-AccentThree-600), var(--color-AccentThree-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent4-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-AccentFour-400), var(--color-AccentFour-600), var(--color-AccentFour-500));
    background-size: 200% 200%;
  }

  .button-wrapper[data-variant="accent5-glowonly"]::after {
    background: linear-gradient(135deg, var(--color-AccentFive-400), var(--color-AccentFive-600), var(--color-AccentFive-500));
    background-size: 200% 200%;
  }

  /* ============================================
     RADIUS VARIANTS
     ============================================ */

  /* Sharp radius */
  .button-wrapper.btn-sharp,
  .button-wrapper.btn-sharp .rainbow-button,
  .button-wrapper.btn-sharp::before,
  .button-wrapper.btn-sharp::after {
    border-radius: var(--radius-sm);
  }

  /* Rounded radius */
  .button-wrapper.btn-rounded,
  .button-wrapper.btn-rounded .rainbow-button,
  .button-wrapper.btn-rounded::before,
  .button-wrapper.btn-rounded::after {
    border-radius: var(--radius-xl);
  }

  /* Pill radius (full rounded) */
  .button-wrapper.btn-pill,
  .button-wrapper.btn-pill .rainbow-button,
  .button-wrapper.btn-pill::before,
  .button-wrapper.btn-pill::after {
    border-radius: var(--radius-full);
  }

  /* ============================================
     SIZE VARIANTS
     ============================================ */

  /* Small size */
  .button-wrapper.btn-size-sm .rainbow-button {
    font-size: var(--btn-size-sm-font-size);
    padding: var(--btn-size-sm-padding);
    min-height: var(--btn-size-sm-min-height);
  }

  /* Large size */
  .button-wrapper.btn-size-lg .rainbow-button {
    font-size: var(--btn-size-lg-font-size);
    padding: var(--btn-size-lg-padding);
    min-height: var(--btn-size-lg-min-height);
  }

  /* ============================================
     SHAPE VARIANTS
     ============================================ */

  /* Circle shape */
  .button-wrapper.btn-shape-circle {
    width: 64px;
    height: 64px;
    border-radius: 50%;
  }

  .button-wrapper.btn-shape-circle .rainbow-button {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .button-wrapper.btn-shape-circle::before,
  .button-wrapper.btn-shape-circle::after {
    border-radius: 50%;
  }

  /* Square shape */
  .button-wrapper.btn-shape-square {
    width: 64px;
    height: 64px;
    border-radius: var(--radius-lg);
  }

  .button-wrapper.btn-shape-square .rainbow-button {
    width: 100%;
    height: 100%;
    border-radius: var(--radius-lg);
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .button-wrapper.btn-shape-square::before,
  .button-wrapper.btn-shape-square::after {
    border-radius: var(--radius-lg);
  }

  /* Icon container for shapes */
  .btn-icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Lottie icon styling */
  .btn-icon {
    position: relative;
  }

  .btn-icon svg {
    width: 100%;
    height: 100%;
  }

  /* Preserve transparent elements */
  .button-wrapper .btn-icon svg *[fill="none"] {
    fill: none;
  }

  .button-wrapper .btn-icon svg *[stroke="none"] {
    stroke: none;
  }

  /* Dropdown wrapper */
  .dropdown-wrapper {
    position: relative;
    display: inline-block;
  }

  /* Dropdown chevron icon */
  .dropdown-chevron {
    width: 1.25rem;
    height: 1.25rem;
    margin-left: var(--space-sm);
    transition: transform 0.2s ease;
    display: inline-block;
    vertical-align: middle;
  }

  .dropdown-wrapper.is-active .dropdown-chevron {
    transform: rotate(180deg);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .rainbow-button {
      font-size: 0.9rem;
      padding: 0.625rem 1rem;
      min-height: 2.5rem;
    }
  }

  /* Reduce motion accessibility */
  @media (prefers-reduced-motion: reduce) {
    .button-wrapper::before,
    .button-wrapper::after {
      animation: none !important;
    }

    .button-wrapper:hover::before {
      background: var(--color-Primary-500);
    }
  }
</style>

<script>
  // Lottie animation handler for GradiGlow icon buttons
  class GradiGlowLottie {
    constructor() {
      this.animations = new Map();
      this.init();
    }

    async init() {
      if (typeof window !== 'undefined') {
        await this.loadLottie();
        this.initializeAnimations();
      }
    }

    async loadLottie() {
      if (!window.lottie) {
        return new Promise((resolve) => {
          const script = document.createElement('script');
          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js';
          script.onload = resolve;
          document.head.appendChild(script);
        });
      }
    }

    getVariantColor(variant: string) {
      const variantColors = {
        primary: 'var(--color-Primary-500)',
        secondary: 'var(--color-Secondary-500)',
        accent1: 'var(--color-AccentOne-500)',
        accent2: 'var(--color-AccentTwo-500)',
        accent3: 'var(--color-AccentThree-500)',
        accent4: 'var(--color-AccentFour-500)',
        accent5: 'var(--color-AccentFive-500)'
      };

      for (const [key, value] of Object.entries(variantColors)) {
        if (variant.includes(key)) {
          const tempEl = document.createElement('div');
          tempEl.style.color = value;
          document.body.appendChild(tempEl);
          const color = getComputedStyle(tempEl).color;
          document.body.removeChild(tempEl);
          return color;
        }
      }
      return 'white';
    }

    initializeAnimations() {
      const iconContainers = document.querySelectorAll('.btn-icon[data-animation]');

      iconContainers.forEach(container => {
        const animationType = (container as HTMLElement).dataset.animation;
        const wrapper = container.closest('.button-wrapper');
        if (!wrapper) return;

        const variant = wrapper.getAttribute('data-variant');
        const variantColor = this.getVariantColor(variant || '');
        let animationData;

        switch (animationType) {
          case 'star':
            animationData = '/Animated Icons/Star/star.json';
            break;
          case 'plus-to-x':
            animationData = '/Animated Icons/Plus to X/plusToX.json';
            break;
          default:
            return;
        }

        const animation = (window as any).lottie.loadAnimation({
          container: container,
          renderer: 'svg',
          loop: false,
          autoplay: false,
          path: animationData
        });

        this.animations.set(container, animation);

        // Initialize as static (first frame) and apply variant color
        animation.addEventListener('DOMLoaded', () => {
          animation.goToAndStop(0, true);

          setTimeout(() => {
            const svgElements = container.querySelectorAll('svg *');
            svgElements.forEach(el => {
              if (el instanceof SVGElement) {
                if (el.getAttribute('fill') && el.getAttribute('fill') !== 'none') {
                  el.style.fill = variantColor;
                  el.setAttribute('fill', variantColor);
                }
                if (el.getAttribute('stroke') && el.getAttribute('stroke') !== 'none') {
                  el.style.stroke = variantColor;
                  el.setAttribute('stroke', variantColor);
                  el.style.strokeWidth = '3';
                  el.setAttribute('stroke-width', '3');
                }
              }            });
          }, 100);
        });

        // Set up hover animations
        wrapper.addEventListener('mouseenter', () => {
          animation.goToAndPlay(0, true);

          setTimeout(() => {
            const svgElements = container.querySelectorAll('svg *');
            svgElements.forEach(el => {
              if (el instanceof SVGElement) {
                if (el.getAttribute('fill') && el.getAttribute('fill') !== 'none') {
                  el.style.fill = variantColor;
                  el.setAttribute('fill', variantColor);
                }
                if (el.getAttribute('stroke') && el.getAttribute('stroke') !== 'none') {
                  el.style.stroke = variantColor;
                  el.setAttribute('stroke', variantColor);
                }
              }            
            });
          }, 50);
        });

        wrapper.addEventListener('mouseleave', () => {
          // Skip reverse animation - go directly back to static state
          animation.goToAndStop(0, true);
          animation.setDirection(1); // Reset direction for next hover

          // Reapply variant color to static state
          setTimeout(() => {
            const svgElements = container.querySelectorAll('svg *');
            svgElements.forEach((el) => {
              if (el instanceof SVGElement) {
                if (el.getAttribute('fill') && el.getAttribute('fill') !== 'none') {
                  el.style.fill = variantColor;
                  el.setAttribute('fill', variantColor);
                }
                if (el.getAttribute('stroke') && el.getAttribute('stroke') !== 'none') {
                  el.style.stroke = variantColor;
                  el.setAttribute('stroke', variantColor);
                  el.style.strokeWidth = '3';
                  el.setAttribute('stroke-width', '3');
                }
              }            });
          }, 10);
        });
      });
    }
  }

  // Initialize when DOM is ready
  if (typeof window !== 'undefined') {
    document.addEventListener('DOMContentLoaded', () => {
      new GradiGlowLottie();

      // Handle dropdown toggle
      const dropdownWrappers = document.querySelectorAll('.dropdown-wrapper');
      dropdownWrappers.forEach((wrapper) => {
        const button = wrapper.querySelector('.rainbow-button');
        const menu = wrapper.querySelector('.dropdown-menu');

        if (!button || !menu) return;

        button.addEventListener('click', (e) => {
          e.stopPropagation();
          const isOpen = menu.classList.contains('show');

          // Close all other dropdowns
          document.querySelectorAll('.dropdown-menu.show').forEach((openMenu) => {
            if (openMenu !== menu) {
              openMenu.classList.remove('show');
              const otherWrapper = openMenu.closest('.dropdown-wrapper');
              if (otherWrapper) otherWrapper.classList.remove('is-active');
            }
          });

          // Toggle current dropdown
          if (isOpen) {
            menu.classList.remove('show');
            wrapper.classList.remove('is-active');
          } else {
            menu.classList.add('show');
            wrapper.classList.add('is-active');
          }
        });

        // Close on outside click
        document.addEventListener('click', (e) => {
          if (!wrapper.contains(e.target as Node)) {
            menu.classList.remove('show');
            wrapper.classList.remove('is-active');
          }
        });

        // Close on escape key
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && menu.classList.contains('show')) {
            menu.classList.remove('show');
            wrapper.classList.remove('is-active');
            (button as HTMLElement).focus();
          }
        });
      });
    });
  }
</script>