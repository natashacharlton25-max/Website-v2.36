/* =========================================================
   ISOTOPE IMAGE GALLERY
   Grid-based product gallery with GSAP Flip animations
   BEM-lite naming, CSS design tokens
   ========================================================= */

.isotope-gallery-wrapper {
  width: 100%;
}

.isotope-gallery {
  position: relative;
  width: 100%;
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
  display: grid;
  grid-template-columns: 3fr 1fr;
  grid-auto-rows: minmax(150px, auto);
  gap: var(--space-md);
  align-items: start;
}

.isotope-gallery.grid--loading {
  opacity: 0;
}

.gallery-item {
  cursor: pointer;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  background-color: var(--color-Background-100);
  border: 2px solid var(--color-Neutral-200);
  position: relative;
}

/* Expanded item - left side, spans multiple rows */
.gallery-item.is-expanded {
  grid-column: 1;
  grid-row: 1 / span 3;
  border-color: var(--color-Primary-600);
  box-shadow: var(--shadow-md);
  min-height: 500px;
}

.gallery-item.is-expanded img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

/* Thumbnails - right side, stacked vertically, smaller height */
.gallery-item:not(.is-expanded) {
  grid-column: 2;
  max-height: 200px;
}

.gallery-item:not(.is-expanded) img {
  width: 100%;
  height: auto;
  max-height: 200px;
  object-fit: contain;
  display: block;
}

.gallery-item:hover {
  border-color: var(--color-Primary-400);
}

/* ========== PRODUCT BADGES ========== */
.product-badge {
  position: absolute;
  top: var(--space-md);
  right: var(--space-md);
  padding: var(--space-xs) var(--space-md);
  background-color: var(--color-Primary-600);
  color: var(--color-Background-50);
  font-size: var(--text-xs);
  font-weight: var(--font-bold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: var(--border-radius-md);
  pointer-events: none;
  z-index: 1;
}

.badge-worksheet {
  background-color: var(--color-Primary-600);
}

.badge-guide {
  background-color: var(--color-Secondary-600);
}

.badge-toolkit {
  background-color: var(--color-Accent-600);
}

/* ========== RESPONSIVE ========== */
/* Tablet: Switch to stacked layout */
@media (max-width: 1023px) {
  .isotope-gallery {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  .gallery-item.is-expanded {
    grid-column: 1;
    grid-row: auto;
  }

  .gallery-item:not(.is-expanded) {
    grid-column: 1;
  }
}

/* Mobile: 1 column */
@media (max-width: 767px) {
  .isotope-gallery {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  .gallery-item.is-expanded {
    grid-column: 1;
    grid-row: auto;
  }

  .gallery-item:not(.is-expanded) {
    grid-column: 1;
  }
}
