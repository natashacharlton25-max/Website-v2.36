/* ===================================
   UTILITY CLASSES
   Mobile-First Responsive Utilities
   =================================== */

/* ========== CONTAINER ========== */

.container {
  width: 100%;
  max-width: var(--container-default);
  margin-left: auto;
  margin-right: auto;
}

/* Container with page margins applied */
.container-with-margins {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--page-margin);
  padding-right: var(--page-margin);
}

.container-xs { max-width: var(--container-xs); }
.container-sm { max-width: var(--container-sm); }
.container-md { max-width: var(--container-md); }
.container-lg { max-width: var(--container-lg); }
.container-xl { max-width: var(--container-xl); }
.container-2xl { max-width: var(--container-2xl); }
.container-3xl { max-width: var(--container-3xl); }
.container-4xl { max-width: var(--container-4xl); }
.container-5xl { max-width: var(--container-5xl); }
.container-6xl { max-width: var(--container-6xl); }
.container-7xl { max-width: var(--container-7xl); }
.container-full { max-width: var(--container-full); }

/* ========== FLEXBOX ========== */

.flex { display: flex; }
.inline-flex { display: inline-flex; }

.flex-row { flex-direction: row; }
.flex-col { flex-direction: column; }

.items-start { align-items: flex-start; }
.items-center { align-items: center; }
.items-end { align-items: flex-end; }
.items-stretch { align-items: stretch; }

.justify-start { justify-content: flex-start; }
.justify-center { justify-content: center; }
.justify-end { justify-content: flex-end; }
.justify-between { justify-content: space-between; }
.justify-around { justify-content: space-around; }

.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }

.gap-xs { gap: var(--space-xs); }
.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }
.gap-lg { gap: var(--space-lg); }
.gap-xl { gap: var(--space-xl); }
.gap-2xl { gap: var(--space-2xl); }
.gap-3xl { gap: var(--space-3xl); }

/* ========== GRID ========== */

.grid { display: grid; }

.grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
.grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

/* ========== SPACING ========== */

/* Padding */
.p-0 { padding: 0; }
.p-xs { padding: var(--space-xs); }
.p-sm { padding: var(--space-sm); }
.p-md { padding: var(--space-md); }
.p-lg { padding: var(--space-lg); }
.p-xl { padding: var(--space-xl); }
.p-2xl { padding: var(--space-2xl); }
.p-3xl { padding: var(--space-3xl); }

.px-xs { padding-left: var(--space-xs); padding-right: var(--space-xs); }
.px-sm { padding-left: var(--space-sm); padding-right: var(--space-sm); }
.px-md { padding-left: var(--space-md); padding-right: var(--space-md); }
.px-lg { padding-left: var(--space-lg); padding-right: var(--space-lg); }
.px-xl { padding-left: var(--space-xl); padding-right: var(--space-xl); }

.py-xs { padding-top: var(--space-xs); padding-bottom: var(--space-xs); }
.py-sm { padding-top: var(--space-sm); padding-bottom: var(--space-sm); }
.py-md { padding-top: var(--space-md); padding-bottom: var(--space-md); }
.py-lg { padding-top: var(--space-lg); padding-bottom: var(--space-lg); }
.py-xl { padding-top: var(--space-xl); padding-bottom: var(--space-xl); }
.py-2xl { padding-top: var(--space-2xl); padding-bottom: var(--space-2xl); }
.py-3xl { padding-top: var(--space-3xl); padding-bottom: var(--space-3xl); }

/* Margin */
.m-0 { margin: 0; }
.m-auto { margin: auto; }
.m-xs { margin: var(--space-xs); }
.m-sm { margin: var(--space-sm); }
.m-md { margin: var(--space-md); }
.m-lg { margin: var(--space-lg); }
.m-xl { margin: var(--space-xl); }

.mx-auto { margin-left: auto; margin-right: auto; }
.my-xs { margin-top: var(--space-xs); margin-bottom: var(--space-xs); }
.my-sm { margin-top: var(--space-sm); margin-bottom: var(--space-sm); }
.my-md { margin-top: var(--space-md); margin-bottom: var(--space-md); }
.my-lg { margin-top: var(--space-lg); margin-bottom: var(--space-lg); }
.my-xl { margin-top: var(--space-xl); margin-bottom: var(--space-xl); }

/* ========== TEXT ========== */

.text-xs { font-size: var(--text-xs); }
.text-sm { font-size: var(--text-sm); }
.text-base { font-size: var(--text-base); }
.text-lg { font-size: var(--text-lg); }
.text-xl { font-size: var(--text-xl); }
.text-2xl { font-size: var(--text-2xl); }
.text-3xl { font-size: var(--text-3xl); }
.text-4xl { font-size: var(--text-4xl); }
.text-5xl { font-size: var(--text-5xl); }
.text-6xl { font-size: var(--text-6xl); }

.font-light { font-weight: var(--font-light); }
.font-normal { font-weight: var(--font-normal); }
.font-medium { font-weight: var(--font-medium); }
.font-semibold { font-weight: var(--font-semibold); }
.font-bold { font-weight: var(--font-bold); }

.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }

.uppercase { text-transform: uppercase; }
.lowercase { text-transform: lowercase; }
.capitalize { text-transform: capitalize; }

.leading-tight { line-height: var(--leading-tight); }
.leading-normal { line-height: var(--leading-normal); }
.leading-relaxed { line-height: var(--leading-relaxed); }

/* ========== COLORS ========== */

.text-primary { color: var(--color-Primary-500); }
.text-secondary { color: var(--color-Secondary-500); }
.text-accent { color: var(--color-AccentOne-500); }
.text-muted { color: var(--color-Text-500); }

.bg-primary { background-color: var(--color-Primary-500); }
.bg-secondary { background-color: var(--color-Secondary-500); }
.bg-accent { background-color: var(--color-AccentOne-500); }
.bg-white { background-color: var(--color-Background-50); }
.bg-alt { background-color: var(--color-Background-100); }

/* ========== BORDERS ========== */

.rounded-sm { border-radius: var(--border-radius-sm); }
.rounded { border-radius: var(--border-radius); }
.rounded-md { border-radius: var(--border-radius-md); }
.rounded-lg { border-radius: var(--border-radius-lg); }
.rounded-xl { border-radius: var(--border-radius-xl); }
.rounded-full { border-radius: var(--border-radius-full); }

.border { border-width: var(--border-width); border-style: solid; }
.border-2 { border-width: var(--border-width-2); border-style: solid; }

/* ========== DISPLAY ========== */

.block { display: block; }
.inline-block { display: inline-block; }
.inline { display: inline; }
.hidden { display: none; }

/* ========== POSITION ========== */

.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.sticky { position: sticky; }

/* ========== WIDTH & HEIGHT ========== */

.w-full { width: 100%; }
.w-auto { width: auto; }
.h-full { height: 100%; }
.h-auto { height: auto; }

/* ========== OVERFLOW ========== */

.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }

/* ========== SHADOWS ========== */

.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow { box-shadow: var(--shadow); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }

/* ========== GLASSMORPHISM ========== */

.glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

/* ========== TRANSITIONS ========== */

.transition { transition: all var(--transition-base); }
.transition-fast { transition: all var(--transition-fast); }
.transition-slow { transition: all var(--transition-slow); }

/* ========== RESPONSIVE UTILITIES ========== */

/* Tablet: 768px and up */
@media (min-width: 768px) {
  .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
  .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .md\:flex-row { flex-direction: row; }
  .md\:text-left { text-align: left; }
  .md\:block { display: block; }
  .md\:hidden { display: none; }
}

/* Desktop: 1024px and up */
@media (min-width: 1024px) {
  .lg\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .lg\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
  .lg\:flex-row { flex-direction: row; }
  .lg\:block { display: block; }
  .lg\:hidden { display: none; }
}

/* Large Desktop: 1280px and up */
@media (min-width: 1280px) {
  .xl\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
}

/* ========== TOOLTIPS ========== */

/*
 * Tooltip styling - matches Toast component design
 * Usage: <span data-tooltip="Tooltip text">Hover me</span>
 * Positions: tooltip-top (default), tooltip-bottom, tooltip-left, tooltip-right
 * Themes: tooltip-professional (default), tooltip-glass, tooltip-neon, tooltip-error, tooltip-success
 */

[data-tooltip] {
  position: relative;
  cursor: help;
}

[data-tooltip]::before,
[data-tooltip]::after {
  position: absolute;
  opacity: 0;
  visibility: hidden;
  transition: all var(--transition-base, 0.2s ease);
  pointer-events: none;
  z-index: 1000;
}

/* Tooltip bubble - matches toast-professional styling */
[data-tooltip]::after {
  content: attr(data-tooltip);
  background: var(--color-AccentOne-200);
  color: var(--color-Text-800);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--border-radius-md);
  font-size: var(--text-sm, 13px);
  font-weight: 500;
  line-height: var(--leading-relaxed, 1.5);
  white-space: nowrap;
  box-shadow: var(--shadow-lg);
  text-align: center;
  backdrop-filter: blur(4px);
}

/* Arrow - Hidden */
[data-tooltip]::before {
  content: '';
  border: 6px solid transparent;
  display: none;
}

/* Show on hover */
[data-tooltip]:hover::before,
[data-tooltip]:hover::after {
  opacity: 1;
  visibility: visible;
}

/* ===== Top (Default) ===== */
[data-tooltip]::after,
[data-tooltip].tooltip-top::after {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-4px);
  margin-bottom: 6px;
}

[data-tooltip]::before,
[data-tooltip].tooltip-top::before {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-top-color: var(--color-Neutral-800, #1f2937);
}

[data-tooltip]:hover::after,
[data-tooltip].tooltip-top:hover::after {
  transform: translateX(-50%) translateY(0);
}

/* ===== Bottom ===== */
[data-tooltip].tooltip-bottom::after {
  bottom: auto;
  top: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(4px);
  margin-bottom: 0;
  margin-top: 6px;
}

[data-tooltip].tooltip-bottom::before {
  bottom: auto;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-top-color: transparent;
  border-bottom-color: var(--color-Neutral-800, #1f2937);
}

[data-tooltip].tooltip-bottom:hover::after {
  transform: translateX(-50%) translateY(0);
}

/* ===== Left ===== */
[data-tooltip].tooltip-left::after {
  bottom: auto;
  top: 50%;
  left: auto;
  right: 100%;
  transform: translateY(-50%) translateX(-4px);
  margin-bottom: 0;
  margin-right: 6px;
}

[data-tooltip].tooltip-left::before {
  bottom: auto;
  top: 50%;
  left: auto;
  right: 100%;
  transform: translateY(-50%);
  border-top-color: transparent;
  border-left-color: var(--color-Text-800, #1a1a1a);
}

[data-tooltip].tooltip-left:hover::after {
  transform: translateY(-50%) translateX(0);
}

/* ===== Right ===== */
[data-tooltip].tooltip-right::after {
  bottom: auto;
  top: 50%;
  left: 100%;
  right: auto;
  transform: translateY(-50%) translateX(4px);
  margin-bottom: 0;
  margin-left: 6px;
}

[data-tooltip].tooltip-right::before {
  bottom: auto;
  top: 50%;
  left: 100%;
  right: auto;
  transform: translateY(-50%);
  border-top-color: transparent;
  border-right-color: var(--color-Text-800, #1a1a1a);
}

[data-tooltip].tooltip-right:hover::after {
  transform: translateY(-50%) translateX(0);
}

/* ===== Tooltip Themes (matches Toast themes) ===== */

/* Professional (default) - already defined above */

/* Glass tooltip - matches toast-glass */
[data-tooltip].tooltip-glass::after {
  background: color-mix(in oklch, var(--color-Background-50, #fff) 85%, transparent);
  color: var(--color-Text-900, #111);
  border: 1px solid color-mix(in oklch, var(--color-Background-50, #fff) 25%, transparent);
  backdrop-filter: blur(20px) saturate(160%);
  -webkit-backdrop-filter: blur(20px) saturate(160%);
}

[data-tooltip].tooltip-glass::before {
  border-top-color: color-mix(in oklch, var(--color-Background-50, #fff) 85%, transparent);
}

[data-tooltip].tooltip-glass.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: color-mix(in oklch, var(--color-Background-50, #fff) 85%, transparent);
}

/* Neon tooltip - matches toast-neon */
[data-tooltip].tooltip-neon::after {
  background: var(--color-Background-900, #0a0a0a);
  color: var(--color-Primary-500, #2dd4bf);
  border: 1.5px solid var(--color-Primary-500, #2dd4bf);
  text-shadow: 0 0 4px var(--color-Primary-500, #2dd4bf);
  box-shadow: 0 0 6px color-mix(in oklch, var(--color-Primary-500) 15%, transparent),
              0 0 12px color-mix(in oklch, var(--color-Primary-500) 10%, transparent);
}

[data-tooltip].tooltip-neon::before {
  border-top-color: var(--color-Primary-500, #2dd4bf);
}

[data-tooltip].tooltip-neon.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: var(--color-Primary-500, #2dd4bf);
}

/* Brutalist tooltip - matches toast-brutalist */
[data-tooltip].tooltip-brutalist::after {
  background: var(--color-Neutral-50, #fafafa);
  color: var(--color-Text-900, #111);
  border: 2px solid var(--color-Neutral-900, #171717);
  font-family: monospace;
  border-radius: 0;
}

[data-tooltip].tooltip-brutalist::before {
  border-top-color: var(--color-Neutral-900, #171717);
}

[data-tooltip].tooltip-brutalist.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: var(--color-Neutral-900, #171717);
}

/* Error tooltip */
[data-tooltip].tooltip-error::after {
  background: var(--color-Error-500, #ef4444);
  color: var(--color-White);
}

[data-tooltip].tooltip-error::before {
  border-top-color: var(--color-Error-500, #ef4444);
}

[data-tooltip].tooltip-error.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: var(--color-Error-500, #ef4444);
}

/* Success tooltip */
[data-tooltip].tooltip-success::after {
  background: var(--color-Success-500, #22c55e);
  color: var(--color-White);
}

[data-tooltip].tooltip-success::before {
  border-top-color: var(--color-Success-500, #22c55e);
}

[data-tooltip].tooltip-success.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: var(--color-Success-500, #22c55e);
}

/* Warning tooltip */
[data-tooltip].tooltip-warning::after {
  background: var(--color-Warning-500, #f59e0b);
  color: var(--color-White);
}

[data-tooltip].tooltip-warning::before {
  border-top-color: var(--color-Warning-500, #f59e0b);
}

[data-tooltip].tooltip-warning.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: var(--color-Warning-500, #f59e0b);
}

/* Info tooltip */
[data-tooltip].tooltip-info::after {
  background: var(--color-Info-500, #3b82f6);
  color: var(--color-White);
}

[data-tooltip].tooltip-info::before {
  border-top-color: var(--color-Info-500, #3b82f6);
}

[data-tooltip].tooltip-info.tooltip-bottom::before {
  border-top-color: transparent;
  border-bottom-color: var(--color-Info-500, #3b82f6);
}

/* ========== FORM VALIDATION ========== */

/*
 * Custom form validation styling
 * Uses theme tokens - customize in your theme file:
 * --color-Error-500, --color-Error-100, --color-Error-200
 * --color-Success-500, --color-Success-100, --color-Success-200
 * --color-Warning-500, --color-Warning-100, --color-Warning-200
 *
 * Usage: Add .has-error to parent, use .form-error for message
 * <div class="form-field has-error">
 *   <input type="text" />
 *   <span class="form-error">Error message</span>
 * </div>
 */

/* Error message - hidden by default */
.form-error {
  display: none;
  font-size: 13px;
  color: var(--color-Error-500, #dc2626);
  background: var(--color-Error-100, #fef2f2);
  border: 1px solid var(--color-Error-200, #fecaca);
  padding: 8px 12px;
  border-radius: 6px;
  margin-top: 8px;
}

/* Show error when parent has .has-error or .show class on error */
.has-error .form-error,
.form-error.show {
  display: block;
}

/* Inline error (no background, just text) */
.form-error-inline {
  display: none;
  font-size: 13px;
  color: var(--color-Error-500, #dc2626);
  margin-top: 6px;
}

.has-error .form-error-inline,
.form-error-inline.show {
  display: block;
}

/* Input error states */
.has-error input,
.has-error textarea,
.has-error select,
input.has-error,
textarea.has-error,
select.has-error {
  border-color: var(--color-Error-500, #dc2626) !important;
  background-color: var(--color-Error-100, #fef2f2);
}

.has-error input:focus,
.has-error textarea:focus,
.has-error select:focus {
  outline-color: var(--color-Error-500, #dc2626);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-Error-500, #dc2626) 10%, transparent);
}

/* Checkbox/Radio error state */
.has-error input[type="checkbox"],
.has-error input[type="radio"] {
  outline: 2px solid var(--color-Error-500, #dc2626);
  outline-offset: 2px;
  background-color: transparent;
}

/* Success state */
.has-success input,
.has-success textarea,
.has-success select,
input.has-success,
textarea.has-success,
select.has-success {
  border-color: var(--color-Success-500, var(--color-Primary-500, #2dd4bf)) !important;
  background-color: var(--color-Success-100, var(--color-Primary-50, #f0fdfa));
}

.form-success {
  display: none;
  font-size: 13px;
  color: var(--color-Success-500, var(--color-Primary-600, #14b8a6));
  background: var(--color-Success-100, var(--color-Primary-50, #f0fdfa));
  border: 1px solid var(--color-Success-200, var(--color-Primary-200, #99f6e4));
  padding: 8px 12px;
  border-radius: 6px;
  margin-top: 8px;
}

.has-success .form-success,
.form-success.show {
  display: block;
}

/* Warning state */
.form-warning {
  display: none;
  font-size: 13px;
  color: var(--color-Warning-500, var(--color-AccentOne-700, #b45309));
  background: var(--color-Warning-100, var(--color-AccentOne-100, #fffbeb));
  border: 1px solid var(--color-Warning-200, var(--color-AccentOne-300, #fde68a));
  padding: 8px 12px;
  border-radius: 6px;
  margin-top: 8px;
}

.has-warning .form-warning,
.form-warning.show {
  display: block;
}

/* Required field indicator */
.form-required::after {
  content: ' *';
  color: var(--color-Error-500, #dc2626);
}

/* Helper text */
.form-help {
  font-size: 12px;
  color: var(--color-Text-400, #999);
  margin-top: 4px;
}
