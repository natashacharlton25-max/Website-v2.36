/* =========================================================
   BUTTON THEMES SYSTEM
   A "bridge" layer that applies consistent button styles globally.

   Usage: Add data-btn-theme="theme-name" to <body> or any container

   Available themes:
   - flat (default): Simple solid colors, minimal shadows
   - outline: Border only, fills on hover
   - glow: Colored glow/shadow effects
   - gradient: Gradient backgrounds with animation
   - glass: Glassmorphic with backdrop blur
   - neumorphic: Soft shadows, raised/pressed effects

   Example:
   <body data-btn-theme="glow">
   ========================================================= */

/* Import button sizing tokens */
@import './ButtonSizes.css';

/* =========================================================
   BUTTON THEME TOKENS
   These get overridden per theme
   ========================================================= */

:root {
  /* Base button tokens */
  --btn-bg: var(--color-Primary-500);
  --btn-bg-hover: var(--color-Primary-600);
  --btn-text: white;
  --btn-text-hover: white;
  --btn-border: transparent;
  --btn-border-hover: transparent;
  --btn-shadow: var(--shadow-md);
  --btn-shadow-hover: var(--shadow-lg);
  --btn-radius: var(--radius-md);
  --btn-transition: all 0.2s ease;

  /* Effect tokens */
  --btn-glow-color: var(--color-Primary-500);
  --btn-glow-intensity: 0.4;
  --btn-gradient: var(--gradient-primary-soft, linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600)));
  --btn-glass-blur: 12px;
  --btn-glass-opacity: 0.15;
}

/* =========================================================
   UNIVERSAL BUTTON SELECTOR
   Targets ALL button types from different components
   ========================================================= */

/* Universal button base - targets all button patterns */
[data-btn-theme] .btn,
[data-btn-theme] .opb-button,
[data-btn-theme] .scb-button,
[data-btn-theme] .nm-btn,
[data-btn-theme] .gradi-glow-btn,
[data-btn-theme] button[class*="btn"],
[data-btn-theme] a[class*="btn"] {
  /* Use sizing tokens from ButtonSizes.css */
  padding: var(--btn-size-default-padding);
  min-height: var(--btn-size-default-min-height);
  font-size: var(--btn-size-default-font-size);

  /* Unified base styles */
  font-family: var(--font-body);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.075em;
  border-radius: var(--btn-radius);
  transition: var(--btn-transition);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
}

/* Size variants - apply to all */
[data-btn-theme] .btn-sm,
[data-btn-theme] .opb-button--sm,
[data-btn-theme] [class*="btn"][class*="sm"] {
  padding: var(--btn-size-sm-padding) !important;
  min-height: var(--btn-size-sm-min-height) !important;
  font-size: var(--btn-size-sm-font-size) !important;
}

[data-btn-theme] .btn-lg,
[data-btn-theme] .opb-button--lg,
[data-btn-theme] [class*="btn"][class*="lg"] {
  padding: var(--btn-size-lg-padding) !important;
  min-height: var(--btn-size-lg-min-height) !important;
  font-size: var(--btn-size-lg-font-size) !important;
}

/* =========================================================
   THEME: FLAT (Default)
   Simple solid colors, subtle shadows
   ========================================================= */

[data-btn-theme="flat"] .btn,
[data-btn-theme="flat"] .opb-button,
[data-btn-theme="flat"] .scb-button,
[data-btn-theme="flat"] .nm-btn,
[data-btn-theme="flat"] .gradi-glow-btn,
[data-btn-theme="flat"] button[class*="btn-primary"],
[data-btn-theme="flat"] a[class*="btn-primary"] {
  background: var(--color-Primary-500) !important;
  color: white !important;
  border: none !important;
  box-shadow: var(--shadow-sm) !important;
}

[data-btn-theme="flat"] .btn:hover,
[data-btn-theme="flat"] .opb-button:hover,
[data-btn-theme="flat"] .scb-button:hover,
[data-btn-theme="flat"] .nm-btn:hover,
[data-btn-theme="flat"] .gradi-glow-btn:hover,
[data-btn-theme="flat"] button[class*="btn-primary"]:hover,
[data-btn-theme="flat"] a[class*="btn-primary"]:hover {
  background: var(--color-Primary-600) !important;
  box-shadow: var(--shadow-md) !important;
  transform: translateY(-1px);
}

/* Flat - Secondary */
[data-btn-theme="flat"] .btn-secondary,
[data-btn-theme="flat"] .opb-button--secondary {
  background: var(--color-Secondary-500) !important;
}

[data-btn-theme="flat"] .btn-secondary:hover,
[data-btn-theme="flat"] .opb-button--secondary:hover {
  background: var(--color-Secondary-600) !important;
}

/* =========================================================
   THEME: OUTLINE
   Border only, fills on hover
   ========================================================= */

[data-btn-theme="outline"] .btn,
[data-btn-theme="outline"] .opb-button,
[data-btn-theme="outline"] .scb-button,
[data-btn-theme="outline"] .nm-btn,
[data-btn-theme="outline"] .gradi-glow-btn,
[data-btn-theme="outline"] button[class*="btn-primary"],
[data-btn-theme="outline"] a[class*="btn-primary"] {
  background: transparent !important;
  color: var(--color-Primary-500) !important;
  border: 2px solid var(--color-Primary-500) !important;
  box-shadow: none !important;
}

[data-btn-theme="outline"] .btn:hover,
[data-btn-theme="outline"] .opb-button:hover,
[data-btn-theme="outline"] .scb-button:hover,
[data-btn-theme="outline"] .nm-btn:hover,
[data-btn-theme="outline"] .gradi-glow-btn:hover,
[data-btn-theme="outline"] button[class*="btn-primary"]:hover,
[data-btn-theme="outline"] a[class*="btn-primary"]:hover {
  background: var(--color-Primary-500) !important;
  color: white !important;
  border-color: var(--color-Primary-500) !important;
  box-shadow: 0 4px 12px color-mix(in oklch, var(--color-Primary-500), transparent 70%) !important;
}

/* Outline - Secondary */
[data-btn-theme="outline"] .btn-secondary,
[data-btn-theme="outline"] .opb-button--secondary {
  color: var(--color-Secondary-500) !important;
  border-color: var(--color-Secondary-500) !important;
}

[data-btn-theme="outline"] .btn-secondary:hover,
[data-btn-theme="outline"] .opb-button--secondary:hover {
  background: var(--color-Secondary-500) !important;
  color: white !important;
}

/* =========================================================
   THEME: GLOW
   Colored glow/shadow effects
   ========================================================= */

[data-btn-theme="glow"] .btn,
[data-btn-theme="glow"] .opb-button,
[data-btn-theme="glow"] .scb-button,
[data-btn-theme="glow"] .nm-btn,
[data-btn-theme="glow"] .gradi-glow-btn,
[data-btn-theme="glow"] button[class*="btn-primary"],
[data-btn-theme="glow"] a[class*="btn-primary"] {
  background: var(--color-Primary-500) !important;
  color: white !important;
  border: none !important;
  box-shadow:
    0 4px 15px color-mix(in oklch, var(--color-Primary-500), transparent 50%),
    0 0 20px color-mix(in oklch, var(--color-Primary-500), transparent 70%) !important;
}

[data-btn-theme="glow"] .btn:hover,
[data-btn-theme="glow"] .opb-button:hover,
[data-btn-theme="glow"] .scb-button:hover,
[data-btn-theme="glow"] .nm-btn:hover,
[data-btn-theme="glow"] .gradi-glow-btn:hover,
[data-btn-theme="glow"] button[class*="btn-primary"]:hover,
[data-btn-theme="glow"] a[class*="btn-primary"]:hover {
  background: var(--color-Primary-600) !important;
  box-shadow:
    0 6px 25px color-mix(in oklch, var(--color-Primary-500), transparent 35%),
    0 0 40px color-mix(in oklch, var(--color-Primary-500), transparent 50%) !important;
  transform: translateY(-2px);
}

/* Glow - Secondary */
[data-btn-theme="glow"] .btn-secondary,
[data-btn-theme="glow"] .opb-button--secondary {
  background: var(--color-Secondary-500) !important;
  box-shadow:
    0 4px 15px color-mix(in oklch, var(--color-Secondary-500), transparent 50%),
    0 0 20px color-mix(in oklch, var(--color-Secondary-500), transparent 70%) !important;
}

[data-btn-theme="glow"] .btn-secondary:hover,
[data-btn-theme="glow"] .opb-button--secondary:hover {
  background: var(--color-Secondary-600) !important;
  box-shadow:
    0 6px 25px color-mix(in oklch, var(--color-Secondary-500), transparent 35%),
    0 0 40px color-mix(in oklch, var(--color-Secondary-500), transparent 50%) !important;
}

/* =========================================================
   THEME: GRADIENT
   Gradient backgrounds with subtle animation
   ========================================================= */

[data-btn-theme="gradient"] .btn,
[data-btn-theme="gradient"] .opb-button,
[data-btn-theme="gradient"] .scb-button,
[data-btn-theme="gradient"] .nm-btn,
[data-btn-theme="gradient"] .gradi-glow-btn,
[data-btn-theme="gradient"] button[class*="btn-primary"],
[data-btn-theme="gradient"] a[class*="btn-primary"] {
  background: linear-gradient(135deg, var(--color-Primary-400), var(--color-Primary-600)) !important;
  background-size: 200% 200% !important;
  color: white !important;
  border: none !important;
  box-shadow: var(--shadow-md) !important;
  animation: gradientShimmer 3s ease infinite !important;
}

[data-btn-theme="gradient"] .btn:hover,
[data-btn-theme="gradient"] .opb-button:hover,
[data-btn-theme="gradient"] .scb-button:hover,
[data-btn-theme="gradient"] .nm-btn:hover,
[data-btn-theme="gradient"] .gradi-glow-btn:hover,
[data-btn-theme="gradient"] button[class*="btn-primary"]:hover,
[data-btn-theme="gradient"] a[class*="btn-primary"]:hover {
  filter: brightness(1.1) saturate(1.1) !important;
  box-shadow: var(--shadow-lg) !important;
  transform: translateY(-2px);
}

/* Gradient - Secondary */
[data-btn-theme="gradient"] .btn-secondary,
[data-btn-theme="gradient"] .opb-button--secondary {
  background: linear-gradient(135deg, var(--color-Secondary-400), var(--color-Secondary-600)) !important;
}

@keyframes gradientShimmer {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* =========================================================
   THEME: GLASS
   Glassmorphic with backdrop blur
   ========================================================= */

[data-btn-theme="glass"] .btn,
[data-btn-theme="glass"] .opb-button,
[data-btn-theme="glass"] .scb-button,
[data-btn-theme="glass"] .nm-btn,
[data-btn-theme="glass"] .gradi-glow-btn,
[data-btn-theme="glass"] button[class*="btn-primary"],
[data-btn-theme="glass"] a[class*="btn-primary"] {
  background: rgba(255, 255, 255, 0.15) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  color: var(--color-Primary-600) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1) !important;
}

[data-btn-theme="glass"] .btn:hover,
[data-btn-theme="glass"] .opb-button:hover,
[data-btn-theme="glass"] .scb-button:hover,
[data-btn-theme="glass"] .nm-btn:hover,
[data-btn-theme="glass"] .gradi-glow-btn:hover,
[data-btn-theme="glass"] button[class*="btn-primary"]:hover,
[data-btn-theme="glass"] a[class*="btn-primary"]:hover {
  background: var(--color-Primary-500) !important;
  color: white !important;
  border-color: var(--color-Primary-500) !important;
  box-shadow: 0 6px 30px color-mix(in oklch, var(--color-Primary-500), transparent 60%) !important;
  transform: translateY(-2px);
}

/* Glass - Secondary */
[data-btn-theme="glass"] .btn-secondary,
[data-btn-theme="glass"] .opb-button--secondary {
  color: var(--color-Secondary-600) !important;
}

[data-btn-theme="glass"] .btn-secondary:hover,
[data-btn-theme="glass"] .opb-button--secondary:hover {
  background: var(--color-Secondary-500) !important;
  border-color: var(--color-Secondary-500) !important;
}

/* =========================================================
   THEME: NEUMORPHIC
   Soft shadows, raised/pressed effects
   ========================================================= */

[data-btn-theme="neumorphic"] .btn,
[data-btn-theme="neumorphic"] .opb-button,
[data-btn-theme="neumorphic"] .scb-button,
[data-btn-theme="neumorphic"] .nm-btn,
[data-btn-theme="neumorphic"] .gradi-glow-btn,
[data-btn-theme="neumorphic"] button[class*="btn-primary"],
[data-btn-theme="neumorphic"] a[class*="btn-primary"] {
  background: var(--color-Background-100, #f0f0f0) !important;
  color: var(--color-Primary-600) !important;
  border: none !important;
  box-shadow:
    8px 8px 16px rgba(0, 0, 0, 0.15),
    -8px -8px 16px rgba(255, 255, 255, 0.8) !important;
}

[data-btn-theme="neumorphic"] .btn:hover,
[data-btn-theme="neumorphic"] .opb-button:hover,
[data-btn-theme="neumorphic"] .scb-button:hover,
[data-btn-theme="neumorphic"] .nm-btn:hover,
[data-btn-theme="neumorphic"] .gradi-glow-btn:hover,
[data-btn-theme="neumorphic"] button[class*="btn-primary"]:hover,
[data-btn-theme="neumorphic"] a[class*="btn-primary"]:hover {
  background: var(--color-Primary-500) !important;
  color: white !important;
  box-shadow:
    inset 4px 4px 10px rgba(0, 0, 0, 0.25),
    inset -4px -4px 10px rgba(255, 255, 255, 0.4) !important;
}

[data-btn-theme="neumorphic"] .btn:active,
[data-btn-theme="neumorphic"] .opb-button:active {
  box-shadow:
    inset 6px 6px 14px rgba(0, 0, 0, 0.35),
    inset -6px -6px 14px rgba(255, 255, 255, 0.3) !important;
}

/* Neumorphic - Secondary */
[data-btn-theme="neumorphic"] .btn-secondary,
[data-btn-theme="neumorphic"] .opb-button--secondary {
  color: var(--color-Secondary-600) !important;
}

[data-btn-theme="neumorphic"] .btn-secondary:hover,
[data-btn-theme="neumorphic"] .opb-button--secondary:hover {
  background: var(--color-Secondary-500) !important;
}

/* =========================================================
   ACCENT COLOR VARIANTS
   Apply to all themes - uses --btn-color-500 token
   ========================================================= */

/* Accent1 */
[data-btn-theme] .btn-accent1,
[data-btn-theme] .opb-button--accent1 {
  --btn-color-500: var(--color-AccentOne-500);
  --btn-color-600: var(--color-AccentOne-600);
}

/* Accent2 */
[data-btn-theme] .btn-accent2,
[data-btn-theme] .opb-button--accent2 {
  --btn-color-500: var(--color-AccentTwo-500);
  --btn-color-600: var(--color-AccentTwo-600);
}

/* Accent3 */
[data-btn-theme] .btn-accent3,
[data-btn-theme] .opb-button--accent3 {
  --btn-color-500: var(--color-AccentThree-500);
  --btn-color-600: var(--color-AccentThree-600);
}

/* Accent4 */
[data-btn-theme] .btn-accent4,
[data-btn-theme] .opb-button--accent4 {
  --btn-color-500: var(--color-AccentFour-500);
  --btn-color-600: var(--color-AccentFour-600);
}

/* Accent5 */
[data-btn-theme] .btn-accent5,
[data-btn-theme] .opb-button--accent5 {
  --btn-color-500: var(--color-AccentFive-500);
  --btn-color-600: var(--color-AccentFive-600);
}

/* =========================================================
   ACCESSIBILITY THEME INTEGRATION
   When a11y themes are active, simplify button styles
   ========================================================= */

/* Reduced motion - no animations */
body.a11y-reduce-motion [data-btn-theme] .btn,
body.a11y-reduce-motion [data-btn-theme] .opb-button,
body.a11y-reduce-motion [data-btn-theme] button[class*="btn"],
[data-btn-theme] .btn:where(body.a11y-reduce-motion *),
@media (prefers-reduced-motion: reduce) {
  [data-btn-theme] .btn,
  [data-btn-theme] .opb-button {
    transition: none !important;
    animation: none !important;
  }

  [data-btn-theme] .btn:hover,
  [data-btn-theme] .opb-button:hover {
    transform: none !important;
  }
}

/* High contrast mode - stronger borders, no gradients/glass */
body.a11y-theme-high-contrast [data-btn-theme] .btn,
body.a11y-theme-high-contrast [data-btn-theme] .opb-button {
  background: var(--a11y-hc-accent) !important;
  color: #000000 !important;
  border: 3px solid var(--a11y-hc-accent) !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

body.a11y-theme-high-contrast [data-btn-theme] .btn:hover,
body.a11y-theme-high-contrast [data-btn-theme] .opb-button:hover {
  background: #000000 !important;
  color: var(--a11y-hc-accent) !important;
  border-color: var(--a11y-hc-accent) !important;
}

/* Dark mode adjustments */
body.a11y-theme-dark [data-btn-theme="glass"] .btn,
body.a11y-theme-dark [data-btn-theme="glass"] .opb-button {
  background: rgba(0, 0, 0, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
  color: var(--color-Primary-300) !important;
}

body.a11y-theme-dark [data-btn-theme="neumorphic"] .btn,
body.a11y-theme-dark [data-btn-theme="neumorphic"] .opb-button {
  background: var(--color-Background-200, #1e293b) !important;
  box-shadow:
    8px 8px 16px rgba(0, 0, 0, 0.5),
    -8px -8px 16px rgba(255, 255, 255, 0.05) !important;
}

/* =========================================================
   UTILITY: Apply theme to specific container
   Use on any element to scope button theming
   ========================================================= */

/* Example: <section data-btn-theme="glow"> only affects buttons inside */
